/* ******************************************************
   PLUGINS
        - Currently used site-wide.
        - Put plugins here that you know will be used in many areas of the site
        - Libraries needed only in a single or few instance(s) can be called separately in the widget templates

        * INCLUDED IN THIS FILE:
            - a11y-slider - v0.0.11 - https://github.com/mmahandev/a11y-slider
            - Modaal - v0.4.4 - https://github.com/humaan/Modaal
            - Focus Overlay - v1.0.5 - https://github.com/mmahandev/FocusOverlay
            - blazy - v1.8.2 - https://github.com/dinbror/blazy
            - svg4everybody - v2.1.9 - https://github.com/jonathantneal/svg4everybody
            - jpages for js pagination - https://github.com/luis-almeida/jPages
   ****************************************************** */


/* a11y-slider - v0.0.11
* https://github.com/mmahandev/a11y-slider
* Copyright (c) 2020 mmahandev. Licensed MIT */
!function (t, e) { "object" == typeof exports && "undefined" != typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define(e) : (t = t || self).A11YSlider = e() }(this, (function () { "use strict"; var t = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {}; function e(t, e) { return t(e = { exports: {} }, e.exports), e.exports } var i = "object", n = function (t) { return t && t.Math == Math && t }, r = n(typeof globalThis == i && globalThis) || n(typeof window == i && window) || n(typeof self == i && self) || n(typeof t == i && t) || Function("return this")(), o = r, s = {}.hasOwnProperty, a = function (t, e) { return s.call(t, e) }, l = function (t) { try { return !!t() } catch (t) { return !0 } }, u = !l((function () { return 7 != Object.defineProperty({}, "a", { get: function () { return 7 } }).a })), c = function (t) { return "object" == typeof t ? null !== t : "function" == typeof t }, d = r.document, h = c(d) && c(d.createElement), f = function (t) { return h ? d.createElement(t) : {} }, v = !u && !l((function () { return 7 != Object.defineProperty(f("div"), "a", { get: function () { return 7 } }).a })), y = function (t) { if (!c(t)) throw TypeError(String(t) + " is not an object"); return t }, p = function (t, e) { if (!c(t)) return t; var i, n; if (e && "function" == typeof (i = t.toString) && !c(n = i.call(t))) return n; if ("function" == typeof (i = t.valueOf) && !c(n = i.call(t))) return n; if (!e && "function" == typeof (i = t.toString) && !c(n = i.call(t))) return n; throw TypeError("Can't convert object to primitive value") }, b = Object.defineProperty, _ = { f: u ? b : function (t, e, i) { if (y(t), e = p(e, !0), y(i), v) try { return b(t, e, i) } catch (t) { } if ("get" in i || "set" in i) throw TypeError("Accessors not supported"); return "value" in i && (t[e] = i.value), t } }, m = function (t, e) { return { enumerable: !(1 & t), configurable: !(2 & t), writable: !(4 & t), value: e } }, g = u ? function (t, e, i) { return _.f(t, e, m(1, i)) } : function (t, e, i) { return t[e] = i, t }, S = function (t, e) { try { g(r, t, e) } catch (i) { r[t] = e } return e }, E = e((function (t) { var e = r["__core-js_shared__"] || S("__core-js_shared__", {}); (t.exports = function (t, i) { return e[t] || (e[t] = void 0 !== i ? i : {}) })("versions", []).push({ version: "3.2.1", mode: "global", copyright: "Â© 2019 Denis Pushkarev (zloirock.ru)" }) })), L = 0, k = Math.random(), A = function (t) { return "Symbol(" + String(void 0 === t ? "" : t) + ")_" + (++L + k).toString(36) }, w = !!Object.getOwnPropertySymbols && !l((function () { return !String(Symbol()) })), x = r.Symbol, C = E("wks"), O = function (t) { return C[t] || (C[t] = w && x[t] || (w ? x : A)("Symbol." + t)) }, T = { f: O }, P = _.f; !function (t) { var e = o.Symbol || (o.Symbol = {}); a(e, t) || P(e, t, { value: T.f(t) }) }("iterator"); var j, D, N, B = {}.propertyIsEnumerable, H = Object.getOwnPropertyDescriptor, M = { f: H && !B.call({ 1: 2 }, 1) ? function (t) { var e = H(this, t); return !!e && e.enumerable } : B }, I = {}.toString, F = "".split, R = l((function () { return !Object("z").propertyIsEnumerable(0) })) ? function (t) { return "String" == function (t) { return I.call(t).slice(8, -1) }(t) ? F.call(t, "") : Object(t) } : Object, G = function (t) { if (null == t) throw TypeError("Can't call method on " + t); return t }, V = function (t) { return R(G(t)) }, z = Object.getOwnPropertyDescriptor, q = { f: u ? z : function (t, e) { if (t = V(t), e = p(e, !0), v) try { return z(t, e) } catch (t) { } if (a(t, e)) return m(!M.f.call(t, e), t[e]) } }, Y = E("native-function-to-string", Function.toString), W = r.WeakMap, U = "function" == typeof W && /native code/.test(Y.call(W)), K = E("keys"), J = function (t) { return K[t] || (K[t] = A(t)) }, Q = {}, X = r.WeakMap; if (U) { var Z = new X, $ = Z.get, tt = Z.has, et = Z.set; j = function (t, e) { return et.call(Z, t, e), e }, D = function (t) { return $.call(Z, t) || {} }, N = function (t) { return tt.call(Z, t) } } else { var it = J("state"); Q[it] = !0, j = function (t, e) { return g(t, it, e), e }, D = function (t) { return a(t, it) ? t[it] : {} }, N = function (t) { return a(t, it) } } var nt = { set: j, get: D, has: N, enforce: function (t) { return N(t) ? D(t) : j(t, {}) }, getterFor: function (t) { return function (e) { var i; if (!c(e) || (i = D(e)).type !== t) throw TypeError("Incompatible receiver, " + t + " required"); return i } } }, rt = e((function (t) { var e = nt.get, i = nt.enforce, n = String(Y).split("toString"); E("inspectSource", (function (t) { return Y.call(t) })), (t.exports = function (t, e, o, s) { var l = !!s && !!s.unsafe, u = !!s && !!s.enumerable, c = !!s && !!s.noTargetGet; "function" == typeof o && ("string" != typeof e || a(o, "name") || g(o, "name", e), i(o).source = n.join("string" == typeof e ? e : "")), t !== r ? (l ? !c && t[e] && (u = !0) : delete t[e], u ? t[e] = o : g(t, e, o)) : u ? t[e] = o : S(e, o) })(Function.prototype, "toString", (function () { return "function" == typeof this && e(this).source || Y.call(this) })) })), ot = function (t) { return "function" == typeof t ? t : void 0 }, st = function (t, e) { return arguments.length < 2 ? ot(o[t]) || ot(r[t]) : o[t] && o[t][e] || r[t] && r[t][e] }, at = Math.ceil, lt = Math.floor, ut = function (t) { return isNaN(t = +t) ? 0 : (t > 0 ? lt : at)(t) }, ct = Math.min, dt = Math.max, ht = Math.min, ft = function (t) { return function (e, i, n) { var r, o, s = V(e), a = (r = s.length) > 0 ? ct(ut(r), 9007199254740991) : 0, l = function (t, e) { var i = ut(t); return i < 0 ? dt(i + e, 0) : ht(i, e) }(n, a); if (t && i != i) { for (; a > l;)if ((o = s[l++]) != o) return !0 } else for (; a > l; l++)if ((t || l in s) && s[l] === i) return t || l || 0; return !t && -1 } }, vt = { includes: ft(!0), indexOf: ft(!1) }.indexOf, yt = function (t, e) { var i, n = V(t), r = 0, o = []; for (i in n) !a(Q, i) && a(n, i) && o.push(i); for (; e.length > r;)a(n, i = e[r++]) && (~vt(o, i) || o.push(i)); return o }, pt = ["constructor", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "toLocaleString", "toString", "valueOf"], bt = pt.concat("length", "prototype"), _t = { f: Object.getOwnPropertyNames || function (t) { return yt(t, bt) } }, mt = { f: Object.getOwnPropertySymbols }, gt = st("Reflect", "ownKeys") || function (t) { var e = _t.f(y(t)), i = mt.f; return i ? e.concat(i(t)) : e }, St = function (t, e) { for (var i = gt(e), n = _.f, r = q.f, o = 0; o < i.length; o++) { var s = i[o]; a(t, s) || n(t, s, r(e, s)) } }, Et = /#|\.prototype\./, Lt = function (t, e) { var i = At[kt(t)]; return i == xt || i != wt && ("function" == typeof e ? l(e) : !!e) }, kt = Lt.normalize = function (t) { return String(t).replace(Et, ".").toLowerCase() }, At = Lt.data = {}, wt = Lt.NATIVE = "N", xt = Lt.POLYFILL = "P", Ct = Lt, Ot = q.f, Tt = function (t, e) { var i, n, o, s, a, l = t.target, u = t.global, c = t.stat; if (i = u ? r : c ? r[l] || S(l, {}) : (r[l] || {}).prototype) for (n in e) { if (s = e[n], o = t.noTargetGet ? (a = Ot(i, n)) && a.value : i[n], !Ct(u ? n : l + (c ? "." : "#") + n, t.forced) && void 0 !== o) { if (typeof s == typeof o) continue; St(s, o) } (t.sham || o && o.sham) && g(s, "sham", !0), rt(i, n, s, t) } }, Pt = Object.keys || function (t) { return yt(t, pt) }, jt = function (t) { return Object(G(t)) }, Dt = Object.assign, Nt = !Dt || l((function () { var t = {}, e = {}, i = Symbol(); return t[i] = 7, "abcdefghijklmnopqrst".split("").forEach((function (t) { e[t] = t })), 7 != Dt({}, t)[i] || "abcdefghijklmnopqrst" != Pt(Dt({}, e)).join("") })) ? function (t, e) { for (var i = jt(t), n = arguments.length, r = 1, o = mt.f, s = M.f; n > r;)for (var a, l = R(arguments[r++]), c = o ? Pt(l).concat(o(l)) : Pt(l), d = c.length, h = 0; d > h;)a = c[h++], u && !s.call(l, a) || (i[a] = l[a]); return i } : Dt; Tt({ target: "Object", stat: !0, forced: Object.assign !== Nt }, { assign: Nt }); var Bt, Ht, Mt, It = function (t) { return function (e, i) { var n, r, o = String(G(e)), s = ut(i), a = o.length; return s < 0 || s >= a ? t ? "" : void 0 : (n = o.charCodeAt(s)) < 55296 || n > 56319 || s + 1 === a || (r = o.charCodeAt(s + 1)) < 56320 || r > 57343 ? t ? o.charAt(s) : n : t ? o.slice(s, s + 2) : r - 56320 + (n - 55296 << 10) + 65536 } }, Ft = { codeAt: It(!1), charAt: It(!0) }, Rt = !l((function () { function t() { } return t.prototype.constructor = null, Object.getPrototypeOf(new t) !== t.prototype })), Gt = J("IE_PROTO"), Vt = Object.prototype, zt = Rt ? Object.getPrototypeOf : function (t) { return t = jt(t), a(t, Gt) ? t[Gt] : "function" == typeof t.constructor && t instanceof t.constructor ? t.constructor.prototype : t instanceof Object ? Vt : null }, qt = O("iterator"), Yt = !1;[].keys && ("next" in (Mt = [].keys()) ? (Ht = zt(zt(Mt))) !== Object.prototype && (Bt = Ht) : Yt = !0), null == Bt && (Bt = {}), a(Bt, qt) || g(Bt, qt, (function () { return this })); var Wt = { IteratorPrototype: Bt, BUGGY_SAFARI_ITERATORS: Yt }, Ut = u ? Object.defineProperties : function (t, e) { y(t); for (var i, n = Pt(e), r = n.length, o = 0; r > o;)_.f(t, i = n[o++], e[i]); return t }, Kt = st("document", "documentElement"), Jt = J("IE_PROTO"), Qt = function () { }, Xt = function () { var t, e = f("iframe"), i = pt.length; for (e.style.display = "none", Kt.appendChild(e), e.src = String("javascript:"), (t = e.contentWindow.document).open(), t.write("<script>document.F=Object<\/script>"), t.close(), Xt = t.F; i--;)delete Xt.prototype[pt[i]]; return Xt() }, Zt = Object.create || function (t, e) { var i; return null !== t ? (Qt.prototype = y(t), i = new Qt, Qt.prototype = null, i[Jt] = t) : i = Xt(), void 0 === e ? i : Ut(i, e) }; Q[Jt] = !0; var $t = _.f, te = O("toStringTag"), ee = function (t, e, i) { t && !a(t = i ? t : t.prototype, te) && $t(t, te, { configurable: !0, value: e }) }, ie = Wt.IteratorPrototype, ne = Object.setPrototypeOf || ("__proto__" in {} ? function () { var t, e = !1, i = {}; try { (t = Object.getOwnPropertyDescriptor(Object.prototype, "__proto__").set).call(i, []), e = i instanceof Array } catch (t) { } return function (i, n) { return y(i), function (t) { if (!c(t) && null !== t) throw TypeError("Can't set " + String(t) + " as a prototype") }(n), e ? t.call(i, n) : i.__proto__ = n, i } }() : void 0), re = Wt.IteratorPrototype, oe = Wt.BUGGY_SAFARI_ITERATORS, se = O("iterator"), ae = function () { return this }, le = function (t, e, i, n, r, o, s) { !function (t, e, i) { var n = e + " Iterator"; t.prototype = Zt(ie, { next: m(1, i) }), ee(t, n, !1) }(i, e, n); var a, l, u, c = function (t) { if (t === r && y) return y; if (!oe && t in f) return f[t]; switch (t) { case "keys": case "values": case "entries": return function () { return new i(this, t) } }return function () { return new i(this) } }, d = e + " Iterator", h = !1, f = t.prototype, v = f[se] || f["@@iterator"] || r && f[r], y = !oe && v || c(r), p = "Array" == e && f.entries || v; if (p && (a = zt(p.call(new t)), re !== Object.prototype && a.next && (zt(a) !== re && (ne ? ne(a, re) : "function" != typeof a[se] && g(a, se, ae)), ee(a, d, !0))), "values" == r && v && "values" !== v.name && (h = !0, y = function () { return v.call(this) }), f[se] !== y && g(f, se, y), r) if (l = { values: c("values"), keys: o ? y : c("keys"), entries: c("entries") }, s) for (u in l) !oe && !h && u in f || rt(f, u, l[u]); else Tt({ target: e, proto: !0, forced: oe || h }, l); return l }, ue = Ft.charAt, ce = nt.set, de = nt.getterFor("String Iterator"); le(String, "String", (function (t) { ce(this, { type: "String Iterator", string: String(t), index: 0 }) }), (function () { var t, e = de(this), i = e.string, n = e.index; return n >= i.length ? { value: void 0, done: !0 } : (t = ue(i, n), e.index += t.length, { value: t, done: !1 }) })); var he = { CSSRuleList: 0, CSSStyleDeclaration: 0, CSSValueList: 0, ClientRectList: 0, DOMRectList: 0, DOMStringList: 0, DOMTokenList: 1, DataTransferItemList: 0, FileList: 0, HTMLAllCollection: 0, HTMLCollection: 0, HTMLFormElement: 0, HTMLSelectElement: 0, MediaList: 0, MimeTypeArray: 0, NamedNodeMap: 0, NodeList: 1, PaintRequestList: 0, Plugin: 0, PluginArray: 0, SVGLengthList: 0, SVGNumberList: 0, SVGPathSegList: 0, SVGPointList: 0, SVGStringList: 0, SVGTransformList: 0, SourceBufferList: 0, StyleSheetList: 0, TextTrackCueList: 0, TextTrackList: 0, TouchList: 0 }, fe = O("unscopables"), ve = Array.prototype; null == ve[fe] && g(ve, fe, Zt(null)); var ye = function (t) { ve[fe][t] = !0 }, pe = nt.set, be = nt.getterFor("Array Iterator"), _e = le(Array, "Array", (function (t, e) { pe(this, { type: "Array Iterator", target: V(t), index: 0, kind: e }) }), (function () { var t = be(this), e = t.target, i = t.kind, n = t.index++; return !e || n >= e.length ? (t.target = void 0, { value: void 0, done: !0 }) : "keys" == i ? { value: n, done: !1 } : "values" == i ? { value: e[n], done: !1 } : { value: [n, e[n]], done: !1 } }), "values"); ye("keys"), ye("values"), ye("entries"); var me = O("iterator"), ge = O("toStringTag"), Se = _e.values; for (var Ee in he) { var Le = r[Ee], ke = Le && Le.prototype; if (ke) { if (ke[me] !== Se) try { g(ke, me, Se) } catch (t) { ke[me] = Se } if (ke[ge] || g(ke, ge, Ee), he[Ee]) for (var Ae in _e) if (ke[Ae] !== _e[Ae]) try { g(ke, Ae, _e[Ae]) } catch (t) { ke[Ae] = _e[Ae] } } } function we(t, e) { for (var i = 0; i < e.length; i++) { var n = e[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } var xe, Ce, Oe, Te, Pe = function (t, e, i) { var n; return void 0 === e && (e = 50), void 0 === i && (i = { isImmediate: !1 }), function () { for (var r = [], o = 0; o < arguments.length; o++)r[o] = arguments[o]; var s = this, a = i.isImmediate && void 0 === n; void 0 !== n && clearTimeout(n), n = setTimeout((function () { n = void 0, i.isImmediate || t.apply(s, r) }), e), a && t.apply(s, r) } }, je = function (t) { return (new DOMParser).parseFromString(t, "text/html").body.firstChild }, De = function (t) { var e = t.charCode || t.keyCode, i = t.type; return "click" === i || "keydown" === i && (32 === e || 13 === e) && (t.preventDefault(), !0) }, Ne = function (t, e) { var i = t instanceof HTMLElement ? [t] : t, n = !0, r = !1, o = void 0; try { for (var s, a = i[Symbol.iterator](); !(n = (s = a.next()).done); n = !0) { var l = s.value; l instanceof HTMLElement && e && e(l) } } catch (t) { r = !0, o = t } finally { try { n || null == a.return || a.return() } finally { if (r) throw o } } }; return function (t) { t[t.Prev = 0] = "Prev", t[t.Next = 1] = "Next" }(xe || (xe = {})), function (t) { t[t.Enabled = 0] = "Enabled", t[t.Disabled = 1] = "Disabled" }(Ce || (Ce = {})), function (t) { t[t.Enable = 0] = "Enable", t[t.Disable = 1] = "Disable" }(Oe || (Oe = {})), function (t) { t[t.Yes = 0] = "Yes", t[t.No = 0] = "No" }(Te || (Te = {})), function () { function t(e, i) { var n = this; !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, t), this.slider = e, this.slides = e.children, this.sliderContainer = je('<div class="a11y-slider-container"></div>'), this._activeClass = "a11y-slider-active", this._visibleClass = "a11y-slider-visible", this._dotsClass = "a11y-slider-dots", this._sliderClass = "a11y-slider", this._focusable = "a, area, input, select, textarea, button, iframe, object, embed, *[tabindex], *[contenteditable]", this._autoplayTimer = Te.No, this._autoplayBtn = je('<button type="button" class="a11y-slider-autoplay">Toggle slider autoplay</button>'), this._pauseOnMouseLeave = !1, this.dots = null, this.activeSlide = this.slides[0], this.visibleSlides = [], this.sliderEnabled = Ce.Disabled, this._hasCustomBtns = !!(i && i.prevBtn || i && i.nextBtn), this.options = { container: !0, navBtns: !0, prevBtn: i && i.prevBtn || je('<button type="button" class="a11y-slider-prev">Previous slide</button>'), nextBtn: i && i.nextBtn || je('<button type="button" class="a11y-slider-next">Next slide</button>'), dots: !0, adaptiveHeight: !1, skipBtn: !0, slidesToShow: !1, autoplay: !1, autoplaySpeed: 4e3, autoplayHoverPause: !0 }, Object.assign(this.options, i), this._handlePrev = this._handlePrev.bind(this), this._handleNext = this._handleNext.bind(this), this._handleAutoplay = this._handleAutoplay.bind(this), this._handleAutoplayHover = this._handleAutoplayHover.bind(this), this._checkShouldEnableDebounced = Pe(this._checkShouldEnable.bind(this), 250), this._updateHeightDebounced = Pe(this._updateHeight.bind(this), 250), this._generateDotsDebounced = Pe(this._generateDots.bind(this), 250), this._updateScrollPosition = Pe((function () { return n.scrollToSlide(n.activeSlide) }), 250), this._handleScroll = Pe(this._handleScroll.bind(this), 150), this._init() } var e, i, n; return e = t, (i = [{ key: "_init", value: function () { this._checkShouldEnable(), window.addEventListener("resize", this._checkShouldEnableDebounced), this._dispatchEvent("init", { a11ySlider: this }) } }, { key: "_checkShouldEnable", value: function () { var t = this, e = !0; this.slides.length <= 1 && (e = !1), this._getActiveAndVisible((function (i) { i.length === t.slides.length && (e = !1) })), this.slides.length === this.options.slidesToShow && (e = !1), e && this.sliderEnabled === Ce.Disabled ? this._enableSlider() : e || this.sliderEnabled !== Ce.Enabled || this._disableSlider(), !e && this._hasCustomBtns && (Ne(this.options.prevBtn, (function (t) { t.classList.add("a11y-slider-hide") })), Ne(this.options.nextBtn, (function (t) { t.classList.add("a11y-slider-hide") }))) } }, { key: "_enableSlider", value: function () { var t = this; this.sliderEnabled = Ce.Enabled, this.options.container && (this.slider.insertAdjacentElement("beforebegin", this.sliderContainer), this.sliderContainer.insertAdjacentElement("afterbegin", this.slider)), this.options.skipBtn && this._addSkipBtn(), this.options.navBtns && !this._hasCustomBtns && (this.options.prevBtn instanceof HTMLElement && this.slider.insertAdjacentElement("beforebegin", this.options.prevBtn), this.options.nextBtn instanceof HTMLElement && this.slider.insertAdjacentElement("beforebegin", this.options.nextBtn)), Ne(this.options.prevBtn, (function (e) { e.addEventListener("click", t._handlePrev, { passive: !0 }), e.addEventListener("keypress", t._handlePrev, { passive: !0 }), t._hasCustomBtns && e.classList.remove("a11y-slider-hide") })), Ne(this.options.nextBtn, (function (e) { e.addEventListener("click", t._handleNext, { passive: !0 }), e.addEventListener("keypress", t._handleNext, { passive: !0 }), t._hasCustomBtns && e.classList.remove("a11y-slider-hide") })), this.options.dots && this._generateDots(), this.slider.addEventListener("scroll", this._handleScroll, !1), this._setCSS(), !0 === this.options.adaptiveHeight && (this._updateHeight(this.activeSlide), window.addEventListener("resize", this._updateHeightDebounced.bind(this))), this.options.autoplay && this._enableAutoplay(), window.addEventListener("resize", this._updateScrollPosition) } }, { key: "_disableSlider", value: function () { var t = this; this.sliderEnabled = Ce.Disabled, document.body.contains(this.sliderContainer) && (this.sliderContainer.insertAdjacentElement("beforebegin", this.slider), this.sliderContainer.parentNode && this.sliderContainer.parentNode.removeChild(this.sliderContainer)), this._removeSkipBtn(), Ne(this.options.prevBtn, (function (e) { e.removeEventListener("click", t._handlePrev), e.removeEventListener("keypress", t._handlePrev), t._hasCustomBtns ? e.classList.add("a11y-slider-hide") : e.parentNode && e.parentNode.removeChild(e) })), Ne(this.options.nextBtn, (function (e) { e.removeEventListener("click", t._handleNext), e.removeEventListener("keypress", t._handleNext), t._hasCustomBtns ? e.classList.add("a11y-slider-hide") : e.parentNode && e.parentNode.removeChild(e) })), this._removeDots(), this.slider.removeEventListener("scroll", this._handleScroll, !1), this._removeCSS(), window.removeEventListener("resize", this._updateHeightDebounced), this._updateHeight(!1), this.options.autoplay && this._disableAutoplay(), window.removeEventListener("resize", this._updateScrollPosition) } }, { key: "_setCSS", value: function () { this._updateItemsCSS(), this._getActiveAndVisible(), this.slider.classList.add(this._sliderClass); var t = !0, e = !1, i = void 0; try { for (var n, r = this.slides[Symbol.iterator](); !(t = (n = r.next()).done); t = !0) { var o = n.value; o.classList.remove(this._activeClass), o.classList.remove(this._visibleClass) } } catch (t) { e = !0, i = t } finally { try { t || null == r.return || r.return() } finally { if (e) throw i } } this.activeSlide.classList.add(this._activeClass); var s = !0, a = !1, l = void 0; try { for (var u, c = this.visibleSlides[Symbol.iterator](); !(s = (u = c.next()).done); s = !0)u.value.classList.add(this._visibleClass) } catch (t) { a = !0, l = t } finally { try { s || null == c.return || c.return() } finally { if (a) throw l } } this._updateDots(this.activeSlide), this._addFocusable() } }, { key: "_removeCSS", value: function () { this._removeItemsCSS(), this.slider.classList.remove(this._sliderClass); var t = !0, e = !1, i = void 0; try { for (var n, r = this.slides[Symbol.iterator](); !(t = (n = r.next()).done); t = !0) { var o = n.value; o.classList.remove(this._activeClass), o.classList.remove(this._visibleClass) } } catch (t) { e = !0, i = t } finally { try { t || null == r.return || r.return() } finally { if (e) throw i } } this._removeFocusable() } }, { key: "_updateItemsCSS", value: function () { if ("number" == typeof (d = this.options.slidesToShow) && isFinite(d) && Math.floor(d) === d) { var t = 100 / this.options.slidesToShow; this.slider.style.display = "flex"; var e = !0, i = !1, n = void 0; try { for (var r, o = this.slides[Symbol.iterator](); !(e = (r = o.next()).done); e = !0)r.value.style.width = "".concat(t, "%") } catch (t) { i = !0, n = t } finally { try { e || null == o.return || o.return() } finally { if (i) throw n } } } else { this.slider.style.removeProperty("display"); var s = !0, a = !1, l = void 0; try { for (var u, c = this.slides[Symbol.iterator](); !(s = (u = c.next()).done); s = !0)u.value.style.removeProperty("width") } catch (t) { a = !0, l = t } finally { try { s || null == c.return || c.return() } finally { if (a) throw l } } } var d } }, { key: "_removeItemsCSS", value: function () { this.slider.style.removeProperty("display"); var t = !0, e = !1, i = void 0; try { for (var n, r = this.slides[Symbol.iterator](); !(t = (n = r.next()).done); t = !0)n.value.style.removeProperty("width") } catch (t) { e = !0, i = t } finally { try { t || null == r.return || r.return() } finally { if (e) throw i } } } }, { key: "_addFocusable", value: function () { this._removeFocusable(); var t = !0, e = !1, i = void 0; try { for (var n, r = this.slides[Symbol.iterator](); !(t = (n = r.next()).done); t = !0) { var o = n.value, s = o.querySelectorAll(this._focusable); o.classList.contains(this._visibleClass) || (o.setAttribute("tabindex", "-1"), o.setAttribute("aria-hidden", "true")); var a = !0, l = !1, u = void 0; try { for (var c, d = s[Symbol.iterator](); !(a = (c = d.next()).done); a = !0) { var h = c.value; o.classList.contains(this._visibleClass) || h.setAttribute("tabindex", "-1") } } catch (t) { l = !0, u = t } finally { try { a || null == d.return || d.return() } finally { if (l) throw u } } } } catch (t) { e = !0, i = t } finally { try { t || null == r.return || r.return() } finally { if (e) throw i } } } }, { key: "_removeFocusable", value: function () { var t = !0, e = !1, i = void 0; try { for (var n, r = this.slides[Symbol.iterator](); !(t = (n = r.next()).done); t = !0) { var o = n.value, s = o.querySelectorAll(this._focusable); o.removeAttribute("tabindex"), o.removeAttribute("aria-hidden"); var a = !0, l = !1, u = void 0; try { for (var c, d = s[Symbol.iterator](); !(a = (c = d.next()).done); a = !0)c.value.removeAttribute("tabindex") } catch (t) { l = !0, u = t } finally { try { a || null == d.return || d.return() } finally { if (l) throw u } } } } catch (t) { e = !0, i = t } finally { try { t || null == r.return || r.return() } finally { if (e) throw i } } } }, { key: "_addSkipBtn", value: function () { var t = je('<button class="a11y-slider-sr-only" type="button" tabindex="0">Click to skip slider carousel</button>'), e = je('<div class="a11y-slider-sr-only" tabindex="-1">End of slider carousel</div>'), i = function (t) { !0 === De(t) && e.focus() }; t.addEventListener("click", i, { passive: !0 }), t.addEventListener("keypress", i, { passive: !0 }), this.slider.insertAdjacentElement("beforebegin", t), this.slider.insertAdjacentElement("afterend", e) } }, { key: "_removeSkipBtn", value: function () { var t = document.querySelectorAll("a11y-slider-sr-only"), e = !0, i = !1, n = void 0; try { for (var r, o = t[Symbol.iterator](); !(e = (r = o.next()).done); e = !0) { var s = r.value; s instanceof HTMLElement && s.parentNode && s.parentNode.removeChild(s) } } catch (t) { i = !0, n = t } finally { try { e || null == o.return || o.return() } finally { if (i) throw n } } } }, { key: "_generateDots", value: function () { var t = this; this._removeDots(), this.dots = je('<ul class="'.concat(this._dotsClass, '"></ul>')); for (var e = function (e) { var i = je("<li></li>"), n = je('<button type="button"></button>'); n.textContent = "Move slider to item #".concat(e + 1); var r = function (i) { !0 === De(i) && (t.scrollToSlide(t.slides[e]), t._toggleAutoplay(Oe.Disable)) }; n.addEventListener("click", r, { passive: !0 }), n.addEventListener("keypress", r, { passive: !0 }), i.insertAdjacentElement("beforeend", n), t.dots.insertAdjacentElement("beforeend", i) }, i = 0; i < this._getDotCount(); i++)e(i); this._updateDots(this.activeSlide), this.slider.insertAdjacentElement("afterend", this.dots), window.addEventListener("resize", this._generateDotsDebounced) } }, { key: "_getDotCount", value: function () { return this.slides.length - (this.options.slidesToShow || this.visibleSlides.length) + 1 } }, { key: "_removeDots", value: function () { this.dots instanceof HTMLElement && this.dots.parentNode && this.dots.parentNode.removeChild(this.dots), window.removeEventListener("resize", this._generateDotsDebounced) } }, { key: "_updateDots", value: function (t) { if (this.dots instanceof HTMLElement) { var e = Array.prototype.indexOf.call(t.parentNode && t.parentNode.children, t); e > this.dots.children.length && (e = this.dots.children.length - 1); var i = !0, n = !1, r = void 0; try { for (var o, s = this.dots.children[Symbol.iterator](); !(i = (o = s.next()).done); i = !0)o.value.querySelector("button").classList.remove("active") } catch (t) { n = !0, r = t } finally { try { i || null == s.return || s.return() } finally { if (n) throw r } } this.dots.children[e].querySelector("button").classList.add("active") } } }, { key: "_enableAutoplay", value: function () { this._autoplayBtn.addEventListener("click", this._handleAutoplay, { passive: !0 }), this._autoplayBtn.addEventListener("keypress", this._handleAutoplay, { passive: !0 }), this.options.autoplayHoverPause && (this.slider.addEventListener("mouseenter", this._handleAutoplayHover, { passive: !0 }), this.slider.addEventListener("mouseleave", this._handleAutoplayHover, { passive: !0 })), this.slider.insertAdjacentElement("beforebegin", this._autoplayBtn), this._toggleAutoplay(Oe.Enable) } }, { key: "_disableAutoplay", value: function () { this._toggleAutoplay(Oe.Disable), this._autoplayBtn.removeEventListener("click", this._handleAutoplay), this._autoplayBtn.removeEventListener("keypress", this._handleAutoplay), this.slider.removeEventListener("mouseenter", this._handleAutoplayHover), this.slider.removeEventListener("mouseleave", this._handleAutoplayHover), this._autoplayBtn.parentNode && this._autoplayBtn.parentNode.removeChild(this._autoplayBtn) } }, { key: "_toggleAutoplay", value: function (t) { var e = this; t === Oe.Enable ? (e._autoplayTimer = window.setInterval((function () { e._goPrevOrNext(xe.Next) }), e.options.autoplaySpeed), e._autoplayBtn.setAttribute("data-autoplaying", "true")) : t === Oe.Disable && (window.clearInterval(e._autoplayTimer), e._autoplayTimer = Te.No, e._autoplayBtn.setAttribute("data-autoplaying", "false")) } }, { key: "_goPrevOrNext", value: function (t) { var e = this; this._getActiveAndVisible((function (i, n) { var r = e.slider.firstElementChild, o = e.slider.lastElementChild, s = i[0], a = i[i.length - 1]; t === xe.Next ? a === o ? e.scrollToSlide(r) : e.scrollToSlide(n && n.nextElementSibling) : t === xe.Prev && (s === r ? e.scrollToSlide(o) : e.scrollToSlide(n && n.previousElementSibling)) })) } }, { key: "scrollToSlide", value: function (t) { var e = !!HTMLElement.prototype.scrollTo; this._dispatchEvent("beforeChange", { currentSlide: this.activeSlide, nextSlide: t, a11ySlider: this }), !0 === this.options.adaptiveHeight && this._updateHeight(t), e ? this.slider.scroll({ left: t.offsetLeft, behavior: "smooth" }) : this.slider.scrollLeft = t.offsetLeft, this._updateDots(t) } }, { key: "updateOptions", value: function (t) { Object.assign(this.options, t), this._disableSlider(), this._checkShouldEnable() } }, { key: "_updateHeight", value: function (t) { if (t instanceof HTMLElement) { var e = t.offsetHeight; this.slider.style.height = "".concat(e, "px") } else this.slider.style.height = "" } }, { key: "refreshHeight", value: function () { this._updateHeight(this.activeSlide) } }, { key: "_getActiveAndVisible", value: function (t) { var e = [], i = !0, n = !1, r = void 0; try { for (var o, s = this.slides[Symbol.iterator](); !(i = (o = s.next()).done); i = !0) { var a = o.value, l = this.slider.clientWidth, u = this.slider.scrollLeft, c = a.offsetLeft; c >= u && c < u + l && e.push(a) } } catch (t) { n = !0, r = t } finally { try { i || null == s.return || s.return() } finally { if (n) throw r } } this.visibleSlides = e, this.activeSlide = e[0], t && t(this.visibleSlides, this.activeSlide) } }, { key: "_handlePrev", value: function (t) { !0 === De(t) && (this._goPrevOrNext(xe.Prev), this._toggleAutoplay(Oe.Disable)) } }, { key: "_handleNext", value: function (t) { !0 === De(t) && (this._goPrevOrNext(xe.Next), this._toggleAutoplay(Oe.Disable)) } }, { key: "_handleAutoplay", value: function (t) { !0 === De(t) && (this._autoplayTimer === Te.No ? this._toggleAutoplay(Oe.Enable) : this._toggleAutoplay(Oe.Disable)) } }, { key: "_handleAutoplayHover", value: function (t) { "mouseenter" === t.type ? this._autoplayTimer !== Te.No && (this._toggleAutoplay(Oe.Disable), this._pauseOnMouseLeave = !0) : "mouseleave" === t.type && this._pauseOnMouseLeave && this._autoplayTimer === Te.No && (this._toggleAutoplay(Oe.Enable), this._pauseOnMouseLeave = !1) } }, { key: "_handleScroll", value: function () { this._setCSS(), this._dispatchEvent("afterChange", { currentSlide: this.activeSlide, a11ySlider: this }) } }, { key: "_dispatchEvent", value: function (t, e) { var i = function (t, e) { var i = document.createEvent("CustomEvent"); return e = e || { bubbles: !1, cancelable: !1, detail: void 0 }, i.initCustomEvent(t, e.bubbles, e.cancelable, e.detail), i }(t, { detail: e }); this.slider.dispatchEvent(i) } }, { key: "destroy", value: function () { this._disableSlider(), window.removeEventListener("resize", this._checkShouldEnableDebounced), this._dispatchEvent("destroy", { a11ySlider: this }) } }]) && we(e.prototype, i), n && we(e, n), t }() }));


/*!
	Modaal - accessible modals - v0.4.4
	by Humaan, for all humans.
	http://humaan.com
 */
!function(a){function t(a){var t={},o=!1;a.attr("data-modaal-type")&&(o=!0,t.type=a.attr("data-modaal-type")),a.attr("data-modaal-content-source")&&(o=!0,t.content_source=a.attr("data-modaal-content-source")),a.attr("data-modaal-animation")&&(o=!0,t.animation=a.attr("data-modaal-animation")),a.attr("data-modaal-animation-speed")&&(o=!0,t.animation_speed=a.attr("data-modaal-animation-speed")),a.attr("data-modaal-after-callback-delay")&&(o=!0,t.after_callback_delay=a.attr("data-modaal-after-callback-delay")),a.attr("data-modaal-is-locked")&&(o=!0,t.is_locked="true"===a.attr("data-modaal-is-locked")),a.attr("data-modaal-hide-close")&&(o=!0,t.hide_close="true"===a.attr("data-modaal-hide-close")),a.attr("data-modaal-background")&&(o=!0,t.background=a.attr("data-modaal-background")),a.attr("data-modaal-overlay-opacity")&&(o=!0,t.overlay_opacity=a.attr("data-modaal-overlay-opacity")),a.attr("data-modaal-overlay-close")&&(o=!0,t.overlay_close="false"!==a.attr("data-modaal-overlay-close")),a.attr("data-modaal-accessible-title")&&(o=!0,t.accessible_title=a.attr("data-modaal-accessible-title")),a.attr("data-modaal-start-open")&&(o=!0,t.start_open="true"===a.attr("data-modaal-start-open")),a.attr("data-modaal-fullscreen")&&(o=!0,t.fullscreen="true"===a.attr("data-modaal-fullscreen")),a.attr("data-modaal-custom-class")&&(o=!0,t.custom_class=a.attr("data-modaal-custom-class")),a.attr("data-modaal-close-text")&&(o=!0,t.close_text=a.attr("data-modaal-close-text")),a.attr("data-modaal-close-aria-label")&&(o=!0,t.close_aria_label=a.attr("data-modaal-close-aria-label")),a.attr("data-modaal-background-scroll")&&(o=!0,t.background_scroll="true"===a.attr("data-modaal-background-scroll")),a.attr("data-modaal-width")&&(o=!0,t.width=parseInt(a.attr("data-modaal-width"))),a.attr("data-modaal-height")&&(o=!0,t.height=parseInt(a.attr("data-modaal-height"))),a.attr("data-modaal-confirm-button-text")&&(o=!0,t.confirm_button_text=a.attr("data-modaal-confirm-button-text")),a.attr("data-modaal-confirm-cancel-button-text")&&(o=!0,t.confirm_cancel_button_text=a.attr("data-modaal-confirm-cancel-button-text")),a.attr("data-modaal-confirm-title")&&(o=!0,t.confirm_title=a.attr("data-modaal-confirm-title")),a.attr("data-modaal-confirm-content")&&(o=!0,t.confirm_content=a.attr("data-modaal-confirm-content")),a.attr("data-modaal-gallery-active-class")&&(o=!0,t.gallery_active_class=a.attr("data-modaal-gallery-active-class")),a.attr("data-modaal-loading-content")&&(o=!0,t.loading_content=a.attr("data-modaal-loading-content")),a.attr("data-modaal-loading-class")&&(o=!0,t.loading_class=a.attr("data-modaal-loading-class")),a.attr("data-modaal-ajax-error-class")&&(o=!0,t.ajax_error_class=a.attr("data-modaal-ajax-error-class")),a.attr("data-modaal-instagram-id")&&(o=!0,t.instagram_id=a.attr("data-modaal-instagram-id")),o&&a.modaal(t)}var o={init:function(t,o){var e=this;if(e.dom=a("body"),e.$elem=a(o),e.options=a.extend({},a.fn.modaal.options,e.$elem.data(),t),e.xhr=null,e.scope={is_open:!1,id:"modaal_"+(new Date).getTime()+Math.random().toString(16).substring(2),source:e.options.content_source?e.options.content_source:e.$elem.attr("href")},e.$elem.attr("data-modaal-scope",e.scope.id),e.private_options={active_class:"is_active"},e.lastFocus=null,e.options.is_locked||"confirm"==e.options.type||e.options.hide_close?e.scope.close_btn="":e.scope.close_btn='<button type="button" class="modaal-close" id="modaal-close" aria-label="'+e.options.close_aria_label+'"><span>'+e.options.close_text+"</span></button>","none"===e.options.animation&&(e.options.animation_speed=0,e.options.after_callback_delay=0),a(o).on("click.Modaal",function(a){a.preventDefault(),e.create_modaal(e,a)}),!0===e.options.outer_controls)var i="outer";else var i="inner";e.scope.prev_btn='<button type="button" class="modaal-gallery-control modaal-gallery-prev modaal-gallery-prev-'+i+'" id="modaal-gallery-prev" aria-label="Previous image (use left arrow to change)"><span>Previous Image</span></button>',e.scope.next_btn='<button type="button" class="modaal-gallery-control modaal-gallery-next modaal-gallery-next-'+i+'" id="modaal-gallery-next" aria-label="Next image (use right arrow to change)"><span>Next Image</span></button>',!0===e.options.start_open&&e.create_modaal(e)},create_modaal:function(a,t){var o,a=this;if(a.lastFocus=a.$elem,!1!==a.options.should_open&&("function"!=typeof a.options.should_open||!1!==a.options.should_open())){switch(a.options.before_open.call(a,t),a.options.type){case"inline":a.create_basic();break;case"ajax":o=a.options.source(a.$elem,a.scope.source),a.fetch_ajax(o);break;case"confirm":a.options.is_locked=!0,a.create_confirm();break;case"image":a.create_image();break;case"iframe":o=a.options.source(a.$elem,a.scope.source),a.create_iframe(o);break;case"video":a.create_video(a.scope.source);break;case"instagram":a.create_instagram()}a.watch_events()}},watch_events:function(){var t=this;t.dom.off("click.Modaal keyup.Modaal keydown.Modaal"),t.dom.on("keydown.Modaal",function(o){var e=o.keyCode,i=o.target;9==e&&t.scope.is_open&&(a.contains(document.getElementById(t.scope.id),i)||a("#"+t.scope.id).find('*[tabindex="0"]').focus())}),t.dom.on("keyup.Modaal",function(o){var e=o.keyCode,i=o.target;return o.shiftKey&&9==o.keyCode&&t.scope.is_open&&(a.contains(document.getElementById(t.scope.id),i)||a("#"+t.scope.id).find(".modaal-close").focus()),!t.options.is_locked&&27==e&&t.scope.is_open?!a(document.activeElement).is("input:not(:checkbox):not(:radio)")&&void t.modaal_close():"image"==t.options.type?(37==e&&t.scope.is_open&&!a("#"+t.scope.id+" .modaal-gallery-prev").hasClass("is_hidden")&&t.gallery_update("prev"),void(39==e&&t.scope.is_open&&!a("#"+t.scope.id+" .modaal-gallery-next").hasClass("is_hidden")&&t.gallery_update("next"))):void 0}),t.dom.on("click.Modaal",function(o){var e=a(o.target);if(!t.options.is_locked&&(t.options.overlay_close&&e.is(".modaal-inner-wrapper")||e.is(".modaal-close")||e.closest(".modaal-close").length))return void t.modaal_close();if(e.is(".modaal-confirm-btn"))return e.is(".modaal-ok")&&t.options.confirm_callback.call(t,t.lastFocus),e.is(".modaal-cancel")&&t.options.confirm_cancel_callback.call(t,t.lastFocus),void t.modaal_close();if(e.is(".modaal-gallery-control")){if(e.hasClass("is_hidden"))return;return e.is(".modaal-gallery-prev")&&t.gallery_update("prev"),void(e.is(".modaal-gallery-next")&&t.gallery_update("next"))}})},build_modal:function(t){var o=this,e="";"instagram"==o.options.type&&(e=" modaal-instagram");var i,l="video"==o.options.type?"modaal-video-wrap":"modaal-content";switch(o.options.animation){case"fade":i=" modaal-start_fade";break;case"slide-down":i=" modaal-start_slidedown";break;default:i=" modaal-start_none"}var n="";o.options.fullscreen&&(n=" modaal-fullscreen"),""===o.options.custom_class&&void 0===o.options.custom_class||(o.options.custom_class=" "+o.options.custom_class);var s="";o.options.width&&o.options.height&&"number"==typeof o.options.width&&"number"==typeof o.options.height?s=' style="max-width:'+o.options.width+"px;height:"+o.options.height+'px;overflow:auto;"':o.options.width&&"number"==typeof o.options.width?s=' style="max-width:'+o.options.width+'px;"':o.options.height&&"number"==typeof o.options.height&&(s=' style="height:'+o.options.height+'px;overflow:auto;"'),("image"==o.options.type||"video"==o.options.type||"instagram"==o.options.type||o.options.fullscreen)&&(s="");var d="";o.is_touch()&&(d=' style="cursor:pointer;"');var r='<div class="modaal-wrapper modaal-'+o.options.type+i+e+n+o.options.custom_class+'" id="'+o.scope.id+'"><div class="modaal-outer-wrapper"><div class="modaal-inner-wrapper"'+d+">";"video"!=o.options.type&&(r+='<div class="modaal-container"'+s+">"),r+='<div class="'+l+' modaal-focus" aria-hidden="false" aria-label="'+o.options.accessible_title+" - "+o.options.close_aria_label+'" role="dialog">',"inline"==o.options.type?r+='<div class="modaal-content-container" role="document"></div>':r+=t,r+="</div>"+o.scope.close_btn,"video"!=o.options.type&&(r+="</div>"),r+="</div>","image"==o.options.type&&!0===o.options.outer_controls&&(r+=o.scope.prev_btn+o.scope.next_btn),r+="</div></div>",a("#"+o.scope.id+"_overlay").length<1&&o.dom.append(r),"inline"==o.options.type&&t.appendTo("#"+o.scope.id+" .modaal-content-container"),o.modaal_overlay("show")},create_basic:function(){var t=this,o=a(t.scope.source),e="";o.length?(e=o.contents().detach(),o.empty()):e="Content could not be loaded. Please check the source and try again.",t.build_modal(e)},create_instagram:function(){var t=this,o=t.options.instagram_id,e="",i="Instagram photo couldn't be loaded, please check the embed code and try again.";if(t.build_modal('<div class="modaal-content-container'+(""!=t.options.loading_class?" "+t.options.loading_class:"")+'">'+t.options.loading_content+"</div>"),""!=o&&null!==o&&void 0!==o){var l="https://api.instagram.com/oembed?url=http://instagr.am/p/"+o+"/";a.ajax({url:l,dataType:"jsonp",cache:!1,success:function(o){t.dom.append('<div id="temp-ig" style="width:0;height:0;overflow:hidden;">'+o.html+"</div>"),t.dom.attr("data-igloaded")?window.instgrm.Embeds.process():t.dom.attr("data-igloaded","true");var e="#"+t.scope.id+" .modaal-content-container";a(e).length>0&&setTimeout(function(){a("#temp-ig").contents().clone().appendTo(e),a("#temp-ig").remove()},1e3)},error:function(){e=i;var o=a("#"+t.scope.id+" .modaal-content-container");o.length>0&&(o.removeClass(t.options.loading_class).addClass(t.options.ajax_error_class),o.html(e))}})}else e=i;return!1},fetch_ajax:function(t){var o=this;null==o.options.accessible_title&&(o.options.accessible_title="Dialog Window"),null!==o.xhr&&(o.xhr.abort(),o.xhr=null),o.build_modal('<div class="modaal-content-container'+(""!=o.options.loading_class?" "+o.options.loading_class:"")+'">'+o.options.loading_content+"</div>"),o.xhr=a.ajax(t,{success:function(t){var e=a("#"+o.scope.id).find(".modaal-content-container");e.length>0&&(e.removeClass(o.options.loading_class),e.html(t),o.options.ajax_success.call(o,e))},error:function(t){if("abort"!=t.statusText){var e=a("#"+o.scope.id+" .modaal-content-container");e.length>0&&(e.removeClass(o.options.loading_class).addClass(o.options.ajax_error_class),e.html("Content could not be loaded. Please check the source and try again."))}}})},create_confirm:function(){var a,t=this;a='<div class="modaal-content-container"><h1 id="modaal-title">'+t.options.confirm_title+'</h1><div class="modaal-confirm-content">'+t.options.confirm_content+'</div><div class="modaal-confirm-wrap"><button type="button" class="modaal-confirm-btn modaal-ok" aria-label="Confirm">'+t.options.confirm_button_text+'</button><button type="button" class="modaal-confirm-btn modaal-cancel" aria-label="Cancel">'+t.options.confirm_cancel_button_text+"</button></div></div></div>",t.build_modal(a)},create_image:function(){var t,o,e=this,i="";if(e.$elem.is("[data-group]")||e.$elem.is("[rel]")){var l=e.$elem.is("[data-group]"),n=l?e.$elem.attr("data-group"):e.$elem.attr("rel"),s=a(l?'[data-group="'+n+'"]':'[rel="'+n+'"]');s.removeAttr("data-gallery-active","is_active"),e.$elem.attr("data-gallery-active","is_active"),o=s.length-1;var d=[];i='<div class="modaal-gallery-item-wrap">',s.each(function(t,o){var e="",i="",l="",n=!1,s=!1,r=o.getAttribute("data-modaal-desc"),c=o.getAttribute("data-gallery-active");a(o).attr("data-modaal-content-source")?e=a(o).attr("data-modaal-content-source"):a(o).attr("href")?e=a(o).attr("href"):a(o).attr("src")?e=a(o).attr("src"):(e="trigger requires href or data-modaal-content-source attribute",s=!0),""!=r&&null!==r&&void 0!==r?(i=r,l='<div class="modaal-gallery-label"><span class="modaal-accessible-hide">Image '+(t+1)+" - </span>"+r.replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</div>"):l='<div class="modaal-gallery-label"><span class="modaal-accessible-hide">Image '+(t+1)+"</span></div>",c&&(n=!0);var m={url:e,alt:i,rawdesc:r,desc:l,active:n,src_error:s};d.push(m)});for(var r=0;r<d.length;r++){var c="",m=d[r].rawdesc?"Image: "+d[r].rawdesc:"Image "+r+" no description";d[r].active&&(c=" "+e.private_options.active_class);var p=d[r].src_error?d[r].url:'<img src="'+d[r].url+'" alt=" " style="width:100%">';i+='<div class="modaal-gallery-item gallery-item-'+r+c+'" aria-label="'+m+'">'+p+d[r].desc+"</div>"}i+="</div>",1!=e.options.outer_controls&&(i+=e.scope.prev_btn+e.scope.next_btn)}else{var u,_=!1;e.$elem.attr("data-modaal-content-source")?u=e.$elem.attr("data-modaal-content-source"):e.$elem.attr("href")?u=e.$elem.attr("href"):e.$elem.attr("src")?u=e.$elem.attr("src"):(u="trigger requires href or data-modaal-content-source attribute",_=!0);var v="",f="",m="";e.$elem.attr("data-modaal-desc")?(m=e.$elem.attr("data-modaal-desc"),v=e.$elem.attr("data-modaal-desc"),f='<div class="modaal-gallery-label"><span class="modaal-accessible-hide">Image - </span>'+v.replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</div>"):m="Image with no description";var p=_?u:'<img src="'+u+'" alt=" " style="width:100%">';i='<div class="modaal-gallery-item is_active" aria-label="'+m+'">'+p+f+"</div>"}t=i,e.build_modal(t),a(".modaal-gallery-item.is_active").is(".gallery-item-0")&&a(".modaal-gallery-prev").hide(),a(".modaal-gallery-item.is_active").is(".gallery-item-"+o)&&a(".modaal-gallery-next").hide()},gallery_update:function(t){var o=this,e=a("#"+o.scope.id),i=e.find(".modaal-gallery-item"),l=i.length-1;if(0==l)return!1;var n=e.find(".modaal-gallery-prev"),s=e.find(".modaal-gallery-next"),d=0,r=0,c=e.find(".modaal-gallery-item."+o.private_options.active_class),m="next"==t?c.next(".modaal-gallery-item"):c.prev(".modaal-gallery-item");return o.options.before_image_change.call(o,c,m),("prev"!=t||!e.find(".gallery-item-0").hasClass("is_active"))&&(("next"!=t||!e.find(".gallery-item-"+l).hasClass("is_active"))&&void c.stop().animate({opacity:0},250,function(){m.addClass("is_next").css({position:"absolute",display:"block",opacity:0});var t=a(document).width(),i=t>1140?280:50;d=e.find(".modaal-gallery-item.is_next").width(),r=e.find(".modaal-gallery-item.is_next").height();var p=e.find(".modaal-gallery-item.is_next img").prop("naturalWidth"),u=e.find(".modaal-gallery-item.is_next img").prop("naturalHeight");p>t-i?(d=t-i,e.find(".modaal-gallery-item.is_next").css({width:d}),e.find(".modaal-gallery-item.is_next img").css({width:d}),r=e.find(".modaal-gallery-item.is_next").find("img").height()):(d=p,r=u),e.find(".modaal-gallery-item-wrap").stop().animate({width:d,height:r},250,function(){c.removeClass(o.private_options.active_class+" "+o.options.gallery_active_class).removeAttr("style"),c.find("img").removeAttr("style"),m.addClass(o.private_options.active_class+" "+o.options.gallery_active_class).removeClass("is_next").css("position",""),m.stop().animate({opacity:1},250,function(){a(this).removeAttr("style").css({width:"100%"}),a(this).find("img").css("width","100%"),e.find(".modaal-gallery-item-wrap").removeAttr("style"),o.options.after_image_change.call(o,m)}),e.find(".modaal-gallery-item").removeAttr("tabindex"),e.find(".modaal-gallery-item."+o.private_options.active_class).attr("tabindex","0").focus(),e.find(".modaal-gallery-item."+o.private_options.active_class).is(".gallery-item-0")?n.stop().animate({opacity:0},150,function(){a(this).hide()}):n.stop().css({display:"block",opacity:n.css("opacity")}).animate({opacity:1},150),e.find(".modaal-gallery-item."+o.private_options.active_class).is(".gallery-item-"+l)?s.stop().animate({opacity:0},150,function(){a(this).hide()}):s.stop().css({display:"block",opacity:n.css("opacity")}).animate({opacity:1},150)})}))},create_video:function(a){var t,o=this;t='<iframe src="'+a+'" class="modaal-video-frame" frameborder="0" allowfullscreen></iframe>',o.build_modal('<div class="modaal-video-container">'+t+"</div>")},create_iframe:function(a){var t,o=this;t=null!==o.options.width||void 0!==o.options.width||null!==o.options.height||void 0!==o.options.height?'<iframe src="'+a+'" class="modaal-iframe-elem" frameborder="0" allowfullscreen></iframe>':'<div class="modaal-content-container">Please specify a width and height for your iframe</div>',o.build_modal(t)},modaal_open:function(){var t=this,o=a("#"+t.scope.id),e=t.options.animation;"none"===e&&(o.removeClass("modaal-start_none"),t.options.after_open.call(t,o)),"fade"===e&&o.removeClass("modaal-start_fade"),"slide-down"===e&&o.removeClass("modaal-start_slide_down");var i=o;a(".modaal-wrapper *[tabindex=0]").removeAttr("tabindex"),i="image"==t.options.type?a("#"+t.scope.id).find(".modaal-gallery-item."+t.private_options.active_class):o.find(".modaal-iframe-elem").length?o.find(".modaal-iframe-elem"):o.find(".modaal-video-wrap").length?o.find(".modaal-video-wrap"):o.find(".modaal-focus"),i.attr("tabindex","0").focus(),"none"!==e&&setTimeout(function(){t.options.after_open.call(t,o)},t.options.after_callback_delay)},modaal_close:function(){var t=this,o=a("#"+t.scope.id);t.options.before_close.call(t,o),null!==t.xhr&&(t.xhr.abort(),t.xhr=null),"none"===t.options.animation&&o.addClass("modaal-start_none"),"fade"===t.options.animation&&o.addClass("modaal-start_fade"),"slide-down"===t.options.animation&&o.addClass("modaal-start_slide_down"),setTimeout(function(){"inline"==t.options.type&&a("#"+t.scope.id+" .modaal-content-container").contents().detach().appendTo(t.scope.source),o.remove(),t.options.after_close.call(t),t.scope.is_open=!1},t.options.after_callback_delay),t.modaal_overlay("hide"),null!=t.lastFocus&&t.lastFocus.focus()},modaal_overlay:function(t){var o=this;"show"==t?(o.scope.is_open=!0,o.options.background_scroll||o.dom.addClass("modaal-noscroll"),a("#"+o.scope.id+"_overlay").length<1&&o.dom.append('<div class="modaal-overlay" id="'+o.scope.id+'_overlay"></div>'),a("#"+o.scope.id+"_overlay").css("background",o.options.background).stop().animate({opacity:o.options.overlay_opacity},o.options.animation_speed,function(){o.modaal_open()})):"hide"==t&&a("#"+o.scope.id+"_overlay").stop().animate({opacity:0},o.options.animation_speed,function(){a(this).remove(),o.dom.removeClass("modaal-noscroll")})},is_touch:function(){return"ontouchstart"in window||navigator.maxTouchPoints}},e=[];a.fn.modaal=function(t){return this.each(function(i){var l=a(this).data("modaal");if(l){if("string"==typeof t)switch(t){case"open":l.create_modaal(l);break;case"close":l.modaal_close()}}else{var n=Object.create(o);n.init(t,this),a.data(this,"modaal",n),e.push({element:a(this).attr("class"),options:t})}})},a.fn.modaal.options={type:"inline",content_source:null,animation:"fade",animation_speed:300,after_callback_delay:350,is_locked:!1,hide_close:!1,background:"#000",overlay_opacity:"0.8",overlay_close:!0,accessible_title:"Dialog Window",start_open:!1,fullscreen:!1,custom_class:"",background_scroll:!1,should_open:!0,close_text:"Close",close_aria_label:"Close (Press escape to close)",width:null,height:null,before_open:function(){},after_open:function(){},before_close:function(){},after_close:function(){},source:function(a,t){return t},confirm_button_text:"Confirm",confirm_cancel_button_text:"Cancel",confirm_title:"Confirm Title",confirm_content:"<p>This is the default confirm dialog content. Replace me through the options</p>",confirm_callback:function(){},confirm_cancel_callback:function(){},gallery_active_class:"gallery_active_item",outer_controls:!1,before_image_change:function(a,t){},after_image_change:function(a){},loading_content:'<div class="modaal-loading-spinner"><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div></div>',loading_class:"is_loading",ajax_error_class:"modaal-error",ajax_success:function(){},instagram_id:null},a(function(){var o=a(".modaal");o.length&&o.each(function(){t(a(this))});var i=new MutationObserver(function(o){o.forEach(function(o){if(o.addedNodes&&o.addedNodes.length>0){[].some.call(o.addedNodes,function(o){var i=a(o);(i.is("a")||i.is("button"))&&(i.hasClass("modaal")?t(i):e.forEach(function(t){if(t.element==i.attr("class"))return a(i).modaal(t.options),!1}))})}})}),l={subtree:!0,attributes:!0,childList:!0,characterData:!0};setTimeout(function(){i.observe(document.body,l)},500)})}(jQuery,window,document);

/* Nick Goodrum's FAUX SELECT Modified by: Fernando PeÃ±a
================================================================ */

$(".faux-select").each(function () {
    var $selectWrap = $(this),
        $expander = $selectWrap.children("a"),
        $expandable = $expander.siblings("ul"),
        $expandableChildren = $expandable.children();
    if($expandableChildren.length <= 0) { $selectWrap.hide(); }
    $expander.on("click", function (e) {
        e.preventDefault();

        if ($selectWrap.hasClass("opened")) {

            $("body").off("click", fauxSelectHandler);
            $expandable.off("keydown", keyboardSelect);
            $expandable.slideUp(function () {
                $selectWrap.removeClass("opened");
            });

        } else {

            $(".faux-select.opened").children("a").trigger("click");

            $selectWrap.addClass("opened");
            $expandable.slideDown(function () {
                $expandable.find("a").attr("tabIndex", -1);
                $expandable.find("li:first-child a").attr("tabIndex", 0).focus();

                $expandable.on("keydown", keyboardSelect);
            });
            $("body").on("click", fauxSelectHandler);
        }

        $expandableChildren.on("click", function (e) {
            $expandableChildren.removeClass("selected");
            $(this).addClass("selected");
            $expander.find(".value").text($(this).text());

            $("body").off("click", fauxSelectHandler);

            $expandable.off("keydown", keyboardSelect);

            $expandable.slideUp(function () {
                $selectWrap.removeClass("opened");
            });
        });
    });

    function keyboardSelect(event) {
        if (event.keyCode !== 27 && event.keyCode !== 9) {
            var $currItem = $(document.activeElement).parent(),
                idx = $currItem.index(),
                $anchor;

            $(event.target).attr("tabIndex", -1);

            // decide what do do based on the keyCode
            event.preventDefault();

            switch (event.keyCode) {
                // move to previous item
                case 37: // left
                case 38: // up
                    if ($currItem.prev().length >= 0) {
                        $anchor = $expandable.find("li:eq(" + (idx - 1) + ") a");
                    } else {
                        $anchor = $expandable.find("li:last-child a");
                    }
                    break;
                    // move to next item
                case 39: // right
                case 40: // down
                    if ($currItem.next().length >= 0) {
                        $anchor = $expandable.find("li:eq(" + (idx + 1) + ") a");
                    } else {
                        $anchor = $expandable.find("li:first-child a");
                    }
                    break;
                    // go to the beginning of the list
                case 33: // page up
                case 36: // home
                    $anchor = $expandable.find("li:first-child a");
                    break;
                    // go to the end of the list
                case 34: // page down
                case 35: // end
                    $anchor = $expandable.find("li:last-child a");
                    break;
            }
            if ($anchor) {
                $currItem.attr("tabIndex", -1);
                $anchor.attr("tabIndex", 0).focus();
            }
        } else {
            if (event.keyCode === 27) {
                $expander.focus();
            }
            $expander.trigger("click");
        }
    }

    function fauxSelectHandler(e) {
        if ($(e.target).parents(".faux-select").length <= 0 && e.originalEvent) {
            $(".faux-select.opened").children("a").trigger("click");
            $("body").off("click", fauxSelectHandler);
        }
    }

});

/* Focus Overlay - v1.0.5
* https://github.com/mmahandev/FocusOverlay
* Copyright (c) 2019 mmahandev. Licensed MIT */
!function (t, e) { "object" == typeof exports && "undefined" != typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define(e) : (t = t || self).FocusOverlay = e() }(this, function () { "use strict"; function t(t, e) { return t(e = { exports: {} }, e.exports), e.exports } var e = t(function (t) { var e = t.exports = "undefined" != typeof window && window.Math == Math ? window : "undefined" != typeof self && self.Math == Math ? self : Function("return this")(); "number" == typeof __g && (__g = e) }), n = t(function (t) { var e = t.exports = { version: "2.6.9" }; "number" == typeof __e && (__e = e) }), o = (n.version, function (t) { return "object" == typeof t ? null !== t : "function" == typeof t }), i = function (t) { if (!o(t)) throw TypeError(t + " is not an object!"); return t }, r = function (t) { try { return !!t() } catch (t) { return !0 } }, s = !r(function () { return 7 != Object.defineProperty({}, "a", { get: function () { return 7 } }).a }), c = e.document, a = o(c) && o(c.createElement), u = !s && !r(function () { return 7 != Object.defineProperty((t = "div", a ? c.createElement(t) : {}), "a", { get: function () { return 7 } }).a; var t }), l = Object.defineProperty, f = { f: s ? Object.defineProperty : function (t, e, n) { if (i(t), e = function (t, e) { if (!o(t)) return t; var n, i; if (e && "function" == typeof (n = t.toString) && !o(i = n.call(t))) return i; if ("function" == typeof (n = t.valueOf) && !o(i = n.call(t))) return i; if (!e && "function" == typeof (n = t.toString) && !o(i = n.call(t))) return i; throw TypeError("Can't convert object to primitive value") }(e, !0), i(n), u) try { return l(t, e, n) } catch (t) { } if ("get" in n || "set" in n) throw TypeError("Accessors not supported!"); return "value" in n && (t[e] = n.value), t } }, h = s ? function (t, e, n) { return f.f(t, e, function (t, e) { return { enumerable: !(1 & t), configurable: !(2 & t), writable: !(4 & t), value: e } }(1, n)) } : function (t, e, n) { return t[e] = n, t }, p = {}.hasOwnProperty, d = function (t, e) { return p.call(t, e) }, v = 0, y = Math.random(), m = function (t) { return "Symbol(".concat(void 0 === t ? "" : t, ")_", (++v + y).toString(36)) }, g = t(function (t) { var o = e["__core-js_shared__"] || (e["__core-js_shared__"] = {}); (t.exports = function (t, e) { return o[t] || (o[t] = void 0 !== e ? e : {}) })("versions", []).push({ version: n.version, mode: "global", copyright: "Â© 2019 Denis Pushkarev (zloirock.ru)" }) }), b = g("native-function-to-string", Function.toString), w = t(function (t) { var o = m("src"), i = ("" + b).split("toString"); n.inspectSource = function (t) { return b.call(t) }, (t.exports = function (t, n, r, s) { var c = "function" == typeof r; c && (d(r, "name") || h(r, "name", n)), t[n] !== r && (c && (d(r, o) || h(r, o, t[n] ? "" + t[n] : i.join(String(n)))), t === e ? t[n] = r : s ? t[n] ? t[n] = r : h(t, n, r) : (delete t[n], h(t, n, r))) })(Function.prototype, "toString", function () { return "function" == typeof this && this[o] || b.call(this) }) }), E = function (t, e, n) { if (function (t) { if ("function" != typeof t) throw TypeError(t + " is not a function!") }(t), void 0 === e) return t; switch (n) { case 1: return function (n) { return t.call(e, n) }; case 2: return function (n, o) { return t.call(e, n, o) }; case 3: return function (n, o, i) { return t.call(e, n, o, i) } }return function () { return t.apply(e, arguments) } }, x = function (t, o, i) { var r, s, c, a, u = t & x.F, l = t & x.G, f = t & x.S, p = t & x.P, d = t & x.B, v = l ? e : f ? e[o] || (e[o] = {}) : (e[o] || {}).prototype, y = l ? n : n[o] || (n[o] = {}), m = y.prototype || (y.prototype = {}); for (r in l && (i = o), i) c = ((s = !u && v && void 0 !== v[r]) ? v : i)[r], a = d && s ? E(c, e) : p && "function" == typeof c ? E(Function.call, c) : c, v && w(v, r, c, t & x.U), y[r] != c && h(y, r, a), p && m[r] != c && (m[r] = c) }; e.core = n, x.F = 1, x.G = 2, x.S = 4, x.P = 8, x.B = 16, x.W = 32, x.U = 64, x.R = 128; var T, S = x, B = {}.toString, O = function (t) { return B.call(t).slice(8, -1) }, F = Object("z").propertyIsEnumerable(0) ? Object : function (t) { return "String" == O(t) ? t.split("") : Object(t) }, j = function (t) { if (null == t) throw TypeError("Can't call method on  " + t); return t }, _ = function (t) { return F(j(t)) }, k = Math.ceil, C = Math.floor, L = function (t) { return isNaN(t = +t) ? 0 : (t > 0 ? C : k)(t) }, M = Math.min, A = Math.max, P = Math.min, H = function (t) { return function (e, n, o) { var i, r, s = _(e), c = (i = s.length) > 0 ? M(L(i), 9007199254740991) : 0, a = function (t, e) { return (t = L(t)) < 0 ? A(t + e, 0) : P(t, e) }(o, c); if (t && n != n) { for (; c > a;)if ((r = s[a++]) != r) return !0 } else for (; c > a; a++)if ((t || a in s) && s[a] === n) return t || a || 0; return !t && -1 } }, D = g("keys"), I = H(!1), K = D[T = "IE_PROTO"] || (D[T] = m(T)), z = "constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","), N = Object.keys || function (t) { return function (t, e) { var n, o = _(t), i = 0, r = []; for (n in o) n != K && d(o, n) && r.push(n); for (; e.length > i;)d(o, n = e[i++]) && (~I(r, n) || r.push(n)); return r }(t, z) }, R = { f: Object.getOwnPropertySymbols }, q = { f: {}.propertyIsEnumerable }, G = Object.assign, U = !G || r(function () { var t = {}, e = {}, n = Symbol(), o = "abcdefghijklmnopqrst"; return t[n] = 7, o.split("").forEach(function (t) { e[t] = t }), 7 != G({}, t)[n] || Object.keys(G({}, e)).join("") != o }) ? function (t, e) { for (var n = Object(j(t)), o = arguments.length, i = 1, r = R.f, c = q.f; o > i;)for (var a, u = F(arguments[i++]), l = r ? N(u).concat(r(u)) : N(u), f = l.length, h = 0; f > h;)a = l[h++], s && !c.call(u, a) || (n[a] = u[a]); return n } : G; S(S.S + S.F, "Object", { assign: U }); var W = t(function (t) { var n = g("wks"), o = e.Symbol, i = "function" == typeof o; (t.exports = function (t) { return n[t] || (n[t] = i && o[t] || (i ? o : m)("Symbol." + t)) }).store = n }), J = W("unscopables"), Q = Array.prototype; null == Q[J] && h(Q, J, {}); var V = H(!0); S(S.P, "Array", { includes: function (t) { return V(this, t, arguments.length > 1 ? arguments[1] : void 0) } }), function (t) { Q[J][t] = !0 }("includes"); var X = W("match"), Y = function (t, e, n) { if (o(i = e) && (void 0 !== (r = i[X]) ? r : "RegExp" == O(i))) throw TypeError("String#" + n + " doesn't accept regex!"); var i, r; return String(j(t)) }, Z = W("match"); function $(t, e) { for (var n = 0; n < e.length; n++) { var o = e[n]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o) } } S(S.P + S.F * function (t) { var e = /./; try { "/./"[t](e) } catch (n) { try { return e[Z] = !1, !"/./"[t](e) } catch (t) { } } return !0 }("includes"), "String", { includes: function (t) { return !!~Y(this, t, "includes").indexOf(t, arguments.length > 1 ? arguments[1] : void 0) } }), Element.prototype.matches || (Element.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector), Element.prototype.closest || (Element.prototype.closest = function (t) { var e = this; do { if (e.matches(t)) return e; e = e.parentElement || e.parentNode } while (null !== e && 1 === e.nodeType); return null }); var tt = f.f, et = Function.prototype, nt = /^\s*function ([^ (]*)/; function ot(t) { var e, n = 0, o = 0, i = 0, r = 0, s = ot.offsetBase; if (!s && document.body && ((s = ot.offsetBase = document.createElement("div")).style.cssText = "position:absolute;left:0;top:0", document.body.appendChild(s)), t && t.ownerDocument === document && "getBoundingClientRect" in t && s) { var c = t.getBoundingClientRect(), a = s.getBoundingClientRect(); e = !0, n = c.left - a.left, o = c.top - a.top, i = c.right - c.left, r = c.bottom - c.top } return { found: e, left: n, top: o, width: i, height: r, right: n + i, bottom: o + r } } return "name" in et || s && tt(et, "name", { configurable: !0, get: function () { try { return ("" + this).match(nt)[1] } catch (t) { return "" } } }), function () { function t(e, n) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, t), this.active = !1, this.scopedEl, this.focusBox, this.previousTarget, this.nextTarget, this.timeout = 0, this.inScope = !1, this.transitionEvent = function () { var t = document.createElement("fakeelement"), e = { transition: "transitionend", OTransition: "oTransitionEnd", MozTransition: "transitionend", WebkitTransition: "webkitTransitionEnd" }; for (var n in e) if (void 0 !== t.style[n]) return e[n] }(), this.options = function () { for (var t, e, n, o = arguments[0] || {}, i = 1, r = arguments.length; i < r; i++)if (null !== (t = arguments[i])) for (e in t) o !== (n = t[e]) && void 0 !== n && (o[e] = n); return o }({ class: "focus-overlay", activeClass: "focus-overlay-active", animatingClass: "focus-overlay-animating", targetClass: "focus-overlay-target", zIndex: 9001, duration: 500, inactiveAfterDuration: !1, triggerKeys: [9, 36, 37, 38, 39, 40, 13, 32, 16, 17, 18, 27], inactiveOnNonTriggerKey: !0, inactiveOnClick: !0, alwaysActive: !1, watchTransitionEnd: !0, onInit: function () { }, onBeforeMove: function () { }, onAfterMove: function () { }, onDestroy: function () { } }, n || {}), e instanceof Element ? this.scopedEl = e : "string" == typeof e || e instanceof String ? this.scopedEl = document.querySelector(e) : this.scopedEl = document.querySelector("body"), this.onKeyDownHandler = this.onKeyDownHandler.bind(this), this.onFocusHandler = this.onFocusHandler.bind(this), this.moveFocusBox = this.moveFocusBox.bind(this), this.stop = this.stop.bind(this), this.init() } var e, n, o; return e = t, (n = [{ key: "init", value: function () { this.options.alwaysActive ? (this.active = !0, window.addEventListener("focusin", this.onFocusHandler, !0)) : (window.addEventListener("keydown", this.onKeyDownHandler, !1), this.options.inactiveOnClick && window.addEventListener("mousedown", this.stop, !1)), this._createFocusBox(), this.options.onInit(this) } }, { key: "onKeyDownHandler", value: function (t) { var e = this, n = t.which; this.options.triggerKeys.includes(n) ? (!1 === this.active && (this.active = !0, window.addEventListener("focusin", this.onFocusHandler, !0)), setTimeout(function () { var t = document.activeElement; t instanceof HTMLIFrameElement && e.scopedEl.contains(t) && !0 === e.active && e.moveFocusBox(t) }, 5)) : this.options.inactiveOnNonTriggerKey && this.stop() } }, { key: "_createFocusBox", value: function () { this.focusBox = document.createElement("div"), this.focusBox.setAttribute("aria-hidden", "true"), this.focusBox.classList.add(this.options.class), Object.assign(this.focusBox.style, { position: "absolute", zIndex: this.options.zIndex, pointerEvents: "none" }), this.scopedEl.insertAdjacentElement("beforeend", this.focusBox) } }, { key: "_cleanup", value: function () { null != this.nextTarget && (this.previousTarget = this.nextTarget, this.previousTarget.classList.remove(this.options.targetClass), this.previousTarget.removeEventListener(this.transitionEvent, this.moveFocusBox)) } }, { key: "onFocusHandler", value: function (t) { var e = t.target; if (this._cleanup(), this.scopedEl.contains(e)) { var n = this.nextTarget; if (this.inScope = !0, null !== e.getAttribute("data-focus")) { var o = e.getAttribute("data-focus"); this.nextTarget = document.querySelector("[data-focus='".concat(o, "']")) } else if (null !== e.getAttribute("data-focus-label")) { var i = document.querySelector("[for='".concat(e.id, "']")); null === i && (i = e.closest("label")), this.nextTarget = i } else { if (null !== e.getAttribute("data-focus-ignore")) return; this.nextTarget = e } clearTimeout(this.timeout), this.transitionEvent && this.options.watchTransitionEnd && this.nextTarget.addEventListener(this.transitionEvent, this.moveFocusBox), this.options.onBeforeMove(n, this.nextTarget, this), this.moveFocusBox(this.nextTarget) } else this.options.alwaysActive ? this.inScope = !1 : (this.inScope = !1, this.stop()) } }, { key: "stop", value: function () { this.active = !1, window.removeEventListener("focusin", this.onFocusHandler, !0), this._cleanup(), this.focusBox.classList.remove(this.options.activeClass) } }, { key: "moveFocusBox", value: function (t) { var e = this; if (t instanceof Event && (t = document.activeElement), t.classList.add(this.options.targetClass), document.body.contains(t) && t instanceof Element) { var n = ot(t), o = "".concat(n.width, "px"), i = "".concat(n.height, "px"), r = "".concat(n.left, "px"), s = "".concat(n.top, "px"); this.focusBox.classList.add(this.options.animatingClass), this.focusBox.classList.add(this.options.activeClass), Object.assign(this.focusBox.style, { width: o, height: i, left: r, top: s }), this.timeout = setTimeout(function () { e.focusBox.classList.remove(e.options.animatingClass), e.options.inactiveAfterDuration && e.focusBox.classList.remove(e.options.activeClass), e.options.onAfterMove(e.previousTarget, t, e) }, this.options.duration) } else this._cleanup() } }, { key: "destroy", value: function () { this.focusBox.parentNode.removeChild(this.focusBox), null != this.previousTarget && this.previousTarget.classList.remove(this.options.targetClass), null != this.nextTarget && this.nextTarget.classList.remove(this.options.targetClass), window.removeEventListener("focusin", this.onFocusHandler, !0), window.removeEventListener("keydown", this.onKeyDownHandler, !1), window.removeEventListener("mousedown", this.stop, !1), this.options.onDestroy(this) } }]) && $(e.prototype, n), o && $(e, o), t }() });

/*!
  hey, [be]Lazy.js - v1.8.2 - 2016.10.25
  A fast, small and dependency free lazy load script (https://github.com/dinbror/blazy)
  (c) Bjoern Klinggaard - @bklinggaard - http://dinbror.dk/blazy
  * Edited to where q=window since it was undefined initially
*/
(function(q,m){q=window;"function"===typeof define&&define.amd?define(m):"object"===typeof exports?module.exports=m():q.Blazy=m()})(this,function(){function q(b){var c=b._util;c.elements=E(b.options);c.count=c.elements.length;c.destroyed&&(c.destroyed=!1,b.options.container&&l(b.options.container,function(a){n(a,"scroll",c.validateT)}),n(window,"resize",c.saveViewportOffsetT),n(window,"resize",c.validateT),n(window,"scroll",c.validateT));m(b)}function m(b){for(var c=b._util,a=0;a<c.count;a++){var d=c.elements[a],e;a:{var g=d;e=b.options;var p=g.getBoundingClientRect();if(e.container&&y&&(g=g.closest(e.containerClass))){g=g.getBoundingClientRect();e=r(g,f)?r(p,{top:g.top-e.offset,right:g.right+e.offset,bottom:g.bottom+e.offset,left:g.left-e.offset}):!1;break a}e=r(p,f)}if(e||t(d,b.options.successClass))b.load(d),c.elements.splice(a,1),c.count--,a--}0===c.count&&b.destroy()}function r(b,c){return b.right>=c.left&&b.bottom>=c.top&&b.left<=c.right&&b.top<=c.bottom}function z(b,c,a){if(!t(b,a.successClass)&&(c||a.loadInvisible||0<b.offsetWidth&&0<b.offsetHeight))if(c=b.getAttribute(u)||b.getAttribute(a.src)){c=c.split(a.separator);var d=c[A&&1<c.length?1:0],e=b.getAttribute(a.srcset),g="img"===b.nodeName.toLowerCase(),p=(c=b.parentNode)&&"picture"===c.nodeName.toLowerCase();if(g||void 0===b.src){var h=new Image,w=function(){a.error&&a.error(b,"invalid");v(b,a.errorClass);k(h,"error",w);k(h,"load",f)},f=function(){g?p||B(b,d,e):b.style.backgroundImage='url("'+d+'")';x(b,a);k(h,"load",f);k(h,"error",w)};p&&(h=b,l(c.getElementsByTagName("source"),function(b){var c=a.srcset,e=b.getAttribute(c);e&&(b.setAttribute("srcset",e),b.removeAttribute(c))}));n(h,"error",w);n(h,"load",f);B(h,d,e)}else b.src=d,x(b,a)}else"video"===b.nodeName.toLowerCase()?(l(b.getElementsByTagName("source"),function(b){var c=a.src,e=b.getAttribute(c);e&&(b.setAttribute("src",e),b.removeAttribute(c))}),b.load(),x(b,a)):(a.error&&a.error(b,"missing"),v(b,a.errorClass))}function x(b,c){v(b,c.successClass);c.success&&c.success(b);b.removeAttribute(c.src);b.removeAttribute(c.srcset);l(c.breakpoints,function(a){b.removeAttribute(a.src)})}function B(b,c,a){a&&b.setAttribute("srcset",a);b.src=c}function t(b,c){return-1!==(" "+b.className+" ").indexOf(" "+c+" ")}function v(b,c){t(b,c)||(b.className+=" "+c)}function E(b){var c=[];b=b.root.querySelectorAll(b.selector);for(var a=b.length;a--;c.unshift(b[a]));return c}function C(b){f.bottom=(window.innerHeight||document.documentElement.clientHeight)+b;f.right=(window.innerWidth||document.documentElement.clientWidth)+b}function n(b,c,a){b.attachEvent?b.attachEvent&&b.attachEvent("on"+c,a):b.addEventListener(c,a,{capture:!1,passive:!0})}function k(b,c,a){b.detachEvent?b.detachEvent&&b.detachEvent("on"+c,a):b.removeEventListener(c,a,{capture:!1,passive:!0})}function l(b,c){if(b&&c)for(var a=b.length,d=0;d<a&&!1!==c(b[d],d);d++);}function D(b,c,a){var d=0;return function(){var e=+new Date;e-d<c||(d=e,b.apply(a,arguments))}}var u,f,A,y;return function(b){if(!document.querySelectorAll){var c=document.createStyleSheet();document.querySelectorAll=function(a,b,d,h,f){f=document.all;b=[];a=a.replace(/\[for\b/gi,"[htmlFor").split(",");for(d=a.length;d--;){c.addRule(a[d],"k:v");for(h=f.length;h--;)f[h].currentStyle.k&&b.push(f[h]);c.removeRule(0)}return b}}var a=this,d=a._util={};d.elements=[];d.destroyed=!0;a.options=b||{};a.options.error=a.options.error||!1;a.options.offset=a.options.offset||100;a.options.root=a.options.root||document;a.options.success=a.options.success||!1;a.options.selector=a.options.selector||".b-lazy";a.options.separator=a.options.separator||"|";a.options.containerClass=a.options.container;a.options.container=a.options.containerClass?document.querySelectorAll(a.options.containerClass):!1;a.options.errorClass=a.options.errorClass||"b-error";a.options.breakpoints=a.options.breakpoints||!1;a.options.loadInvisible=a.options.loadInvisible||!1;a.options.successClass=a.options.successClass||"b-loaded";a.options.validateDelay=a.options.validateDelay||25;a.options.saveViewportOffsetDelay=a.options.saveViewportOffsetDelay||50;a.options.srcset=a.options.srcset||"data-srcset";a.options.src=u=a.options.src||"data-src";y=Element.prototype.closest;A=1<window.devicePixelRatio;f={};f.top=0-a.options.offset;f.left=0-a.options.offset;a.revalidate=function(){q(a)};a.load=function(a,b){var c=this.options;void 0===a.length?z(a,b,c):l(a,function(a){z(a,b,c)})};a.destroy=function(){var a=this._util;this.options.container&&l(this.options.container,function(b){k(b,"scroll",a.validateT)});k(window,"scroll",a.validateT);k(window,"resize",a.validateT);k(window,"resize",a.saveViewportOffsetT);a.count=0;a.elements.length=0;a.destroyed=!0};d.validateT=D(function(){m(a)},a.options.validateDelay,a);d.saveViewportOffsetT=D(function(){C(a.options.offset)},a.options.saveViewportOffsetDelay,a);C(a.options.offset);l(a.options.breakpoints,function(a){if(a.width>=window.screen.width)return u=a.src,!1});setTimeout(function(){q(a)})}});

/*
* jquery-match-height 0.7.0 by @liabru
* http://brm.io/jquery-match-height/
* License MIT
*/
!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){var e=-1,o=-1,i=function(t){return parseFloat(t)||0},a=function(e){var o=1,a=t(e),n=null,r=[];return a.each(function(){var e=t(this),a=e.offset().top-i(e.css("margin-top")),s=r.length>0?r[r.length-1]:null;null===s?r.push(e):Math.floor(Math.abs(n-a))<=o?r[r.length-1]=s.add(e):r.push(e),n=a}),r},n=function(e){var o={
    byRow:!0,property:"height",target:null,remove:!1};return"object"==typeof e?t.extend(o,e):("boolean"==typeof e?o.byRow=e:"remove"===e&&(o.remove=!0),o)},r=t.fn.matchHeight=function(e){var o=n(e);if(o.remove){var i=this;return this.css(o.property,""),t.each(r._groups,function(t,e){e.elements=e.elements.not(i)}),this}return this.length<=1&&!o.target?this:(r._groups.push({elements:this,options:o}),r._apply(this,o),this)};r.version="0.7.0",r._groups=[],r._throttle=80,r._maintainScroll=!1,r._beforeUpdate=null,
    r._afterUpdate=null,r._rows=a,r._parse=i,r._parseOptions=n,r._apply=function(e,o){var s=n(o),h=t(e),l=[h],c=t(window).scrollTop(),p=t("html").outerHeight(!0),d=h.parents().filter(":hidden");return d.each(function(){var e=t(this);e.data("style-cache",e.attr("style"))}),d.css("display","block"),s.byRow&&!s.target&&(h.each(function(){var e=t(this),o=e.css("display");"inline-block"!==o&&"flex"!==o&&"inline-flex"!==o&&(o="block"),e.data("style-cache",e.attr("style")),e.css({display:o,"padding-top":"0",
    "padding-bottom":"0","margin-top":"0","margin-bottom":"0","border-top-width":"0","border-bottom-width":"0",height:"100px",overflow:"hidden"})}),l=a(h),h.each(function(){var e=t(this);e.attr("style",e.data("style-cache")||"")})),t.each(l,function(e,o){var a=t(o),n=0;if(s.target)n=s.target.outerHeight(!1);else{if(s.byRow&&a.length<=1)return void a.css(s.property,"");a.each(function(){var e=t(this),o=e.attr("style"),i=e.css("display");"inline-block"!==i&&"flex"!==i&&"inline-flex"!==i&&(i="block");var a={
    display:i};a[s.property]="",e.css(a),e.outerHeight(!1)>n&&(n=e.outerHeight(!1)),o?e.attr("style",o):e.css("display","")})}a.each(function(){var e=t(this),o=0;s.target&&e.is(s.target)||("border-box"!==e.css("box-sizing")&&(o+=i(e.css("border-top-width"))+i(e.css("border-bottom-width")),o+=i(e.css("padding-top"))+i(e.css("padding-bottom"))),e.css(s.property,n-o+"px"))})}),d.each(function(){var e=t(this);e.attr("style",e.data("style-cache")||null)}),r._maintainScroll&&t(window).scrollTop(c/p*t("html").outerHeight(!0)),
    this},r._applyDataApi=function(){var e={};t("[data-match-height], [data-mh]").each(function(){var o=t(this),i=o.attr("data-mh")||o.attr("data-match-height");i in e?e[i]=e[i].add(o):e[i]=o}),t.each(e,function(){this.matchHeight(!0)})};var s=function(e){r._beforeUpdate&&r._beforeUpdate(e,r._groups),t.each(r._groups,function(){r._apply(this.elements,this.options)}),r._afterUpdate&&r._afterUpdate(e,r._groups)};r._update=function(i,a){if(a&&"resize"===a.type){var n=t(window).width();if(n===e)return;e=n;
    }i?-1===o&&(o=setTimeout(function(){s(a),o=-1},r._throttle)):s(a)},t(r._applyDataApi),t(window).bind("load",function(t){r._update(!1,t)}),t(window).bind("resize orientationchange",function(t){r._update(!0,t)})});


/**
* svg4everybody v2.1.9
* https://github.com/jonathantneal/svg4everybody
* Edited to where a=window since it was undefined initially
*/
!function(a,b){a=window;"function"==typeof define&&define.amd?define([],function(){return a.svg4everybody=b()}):"object"==typeof module&&module.exports?module.exports=b():a.svg4everybody=b()}(this,function(){function a(a,b,c){if(c){var d=document.createDocumentFragment(),e=!b.hasAttribute("viewBox")&&c.getAttribute("viewBox");e&&b.setAttribute("viewBox",e);for(var f=c.cloneNode(!0);f.childNodes.length;)d.appendChild(f.firstChild);a.appendChild(d)}}function b(b){b.onreadystatechange=function(){if(4===b.readyState){var c=b._cachedDocument;c||(c=b._cachedDocument=document.implementation.createHTMLDocument(""),c.body.innerHTML=b.responseText,b._cachedTarget={}),b._embeds.splice(0).map(function(d){var e=b._cachedTarget[d.id];e||(e=b._cachedTarget[d.id]=c.getElementById(d.id)),a(d.parent,d.svg,e)})}},b.onreadystatechange()}function c(c){function e(){for(var c=0;c<o.length;){var h=o[c],i=h.parentNode,j=d(i),k=h.getAttribute("xlink:href")||h.getAttribute("href");if(!k&&g.attributeName&&(k=h.getAttribute(g.attributeName)),j&&k){if(f)if(!g.validate||g.validate(k,j,h)){i.removeChild(h);var l=k.split("#"),q=l.shift(),r=l.join("#");if(q.length){var s=m[q];s||(s=m[q]=new XMLHttpRequest,s.open("GET",q),s.send(),s._embeds=[]),s._embeds.push({parent:i,svg:j,id:r}),b(s)}else a(i,j,document.getElementById(r))}else++c,++p}else++c}(!o.length||o.length-p>0)&&n(e,67)}var f,g=Object(c),h=/\bTrident\/[567]\b|\bMSIE (?:9|10)\.0\b/,i=/\bAppleWebKit\/(\d+)\b/,j=/\bEdge\/12\.(\d+)\b/,k=/\bEdge\/.(\d+)\b/,l=window.top!==window.self;f="polyfill"in g?g.polyfill:h.test(navigator.userAgent)||(navigator.userAgent.match(j)||[])[1]<10547||(navigator.userAgent.match(i)||[])[1]<537||k.test(navigator.userAgent)&&l;var m={},n=window.requestAnimationFrame||setTimeout,o=document.getElementsByTagName("use"),p=0;f&&e()}function d(a){for(var b=a;"svg"!==b.nodeName.toLowerCase()&&(b=b.parentNode););return b}return c});

/**
 * jQuery jPages v0.7
 * Client side pagination with jQuery
 * http://luis-almeida.github.com/jPages
 *
 * Licensed under the MIT license.
 * Copyright 2012 LuÃ­s Almeida
 * https://github.com/luis-almeida
 */

;(function($,window,document,undefined){var name="jPages",instance=null,defaults={containerID:"",first:false,previous:"â previous",next:"next â",last:false,links:"numeric",startPage:1,perPage:10,midRange:5,startRange:1,endRange:1,keyBrowse:false,scrollBrowse:false,pause:0,clickStop:false,delay:50,direction:"forward",animation:"",fallback:400,minHeight:true,callback:undefined};function Plugin(element,options){this.options=$.extend({},defaults,options);this._container=$("#"+this.options.containerID);if(!this._container.length)return;this.jQwindow=$(window);this.jQdocument=$(document);this._holder=$(element);this._nav={};this._first=$(this.options.first);this._previous=$(this.options.previous);this._next=$(this.options.next);this._last=$(this.options.last);this._items=this._container.children(":visible");this._itemsShowing=$([]);this._itemsHiding=$([]);this._numPages=Math.ceil(this._items.length/this.options.perPage);this._currentPageNum=this.options.startPage;this._clicked=false;this._cssAnimSupport=this.getCSSAnimationSupport();this.init();}Plugin.prototype={constructor:Plugin,getCSSAnimationSupport:function(){var animation=false,animationstring='animation',keyframeprefix='',domPrefixes='Webkit Moz O ms Khtml'.split(' '),pfx='',elm=this._container.get(0);if(elm.style.animationName)animation=true;if(animation===false){for(var i=0;i<domPrefixes.length;i++){if(elm.style[domPrefixes[i]+'AnimationName']!==undefined){pfx=domPrefixes[i];animationstring=pfx+'Animation';keyframeprefix='-'+pfx.toLowerCase()+'-';animation=true;break;}}}return animation;},init:function(){this.setStyles();this.setNav();this.paginate(this._currentPageNum);this.setMinHeight();},setStyles:function(){var requiredStyles="<style>"+".jp-invisible { visibility: hidden !important; } "+".jp-hidden { display: none !important; }"+"</style>";$(requiredStyles).appendTo("head");if(this._cssAnimSupport&&this.options.animation.length)this._items.addClass("animated jp-hidden");else this._items.hide();},setNav:function(){var navhtml=this.writeNav();this._holder.each(this.bind(function(index,element){var holder=$(element);holder.html(navhtml);this.cacheNavElements(holder,index);this.bindNavHandlers(index);this.disableNavSelection(element);},this));if(this.options.keyBrowse)this.bindNavKeyBrowse();if(this.options.scrollBrowse)this.bindNavScrollBrowse();},writeNav:function(){var i=1,navhtml;navhtml=this.writeBtn("first")+this.writeBtn("previous");for(;i<=this._numPages;i++){if(i===1&&this.options.startRange===0)navhtml+="<span>...</span>";if(i>this.options.startRange&&i<=this._numPages-this.options.endRange)navhtml+="<a href='#' class='jp-hidden'>";else
navhtml+="<a href='#' aria-label='Go to page " + i + "'>";switch(this.options.links){case"numeric":navhtml+=i;break;case"blank":break;case"title":var title=this._items.eq(i-1).attr("data-title");navhtml+=title!==undefined?title:"";break;}navhtml+="</a>";if(i===this.options.startRange||i===this._numPages-this.options.endRange)navhtml+="<span>...</span>";}navhtml+=this.writeBtn("next")+this.writeBtn("last")+"</div>";return navhtml;},writeBtn:function(which){return this.options[which]!==false&&!$(this["_"+which]).length?"<a class='jp-"+which+"'>"+this.options[which]+"</a>":"";},cacheNavElements:function(holder,index){this._nav[index]={};this._nav[index].holder=holder;this._nav[index].first=this._first.length?this._first:this._nav[index].holder.find("a.jp-first");this._nav[index].previous=this._previous.length?this._previous:this._nav[index].holder.find("a.jp-previous");this._nav[index].next=this._next.length?this._next:this._nav[index].holder.find("a.jp-next");this._nav[index].last=this._last.length?this._last:this._nav[index].holder.find("a.jp-last");this._nav[index].fstBreak=this._nav[index].holder.find("span:first");this._nav[index].lstBreak=this._nav[index].holder.find("span:last");this._nav[index].pages=this._nav[index].holder.find("a").not(".jp-first, .jp-previous, .jp-next, .jp-last");this._nav[index].permPages=this._nav[index].pages.slice(0,this.options.startRange).add(this._nav[index].pages.slice(this._numPages-this.options.endRange,this._numPages));this._nav[index].pagesShowing=$([]);this._nav[index].currentPage=$([]);},bindNavHandlers:function(index){var nav=this._nav[index];nav.holder.bind("click.jPages",this.bind(function(evt){var newPage=this.getNewPage(nav,$(evt.target));if(this.validNewPage(newPage)){this._clicked=true;this.paginate(newPage);}evt.preventDefault();},this));if(this._first.length){this._first.bind("click.jPages",this.bind(function(){if(this.validNewPage(1)){this._clicked=true;this.paginate(1);}},this));}if(this._previous.length){this._previous.bind("click.jPages",this.bind(function(){var newPage=this._currentPageNum-1;if(this.validNewPage(newPage)){this._clicked=true;this.paginate(newPage);}},this));}if(this._next.length){this._next.bind("click.jPages",this.bind(function(){var newPage=this._currentPageNum+1;if(this.validNewPage(newPage)){this._clicked=true;this.paginate(newPage);}},this));}if(this._last.length){this._last.bind("click.jPages",this.bind(function(){if(this.validNewPage(this._numPages)){this._clicked=true;this.paginate(this._numPages);}},this));}},disableNavSelection:function(element){if(typeof element.onselectstart!="undefined")element.onselectstart=function(){return false;};else if(typeof element.style.MozUserSelect!="undefined")element.style.MozUserSelect="none";else
element.onmousedown=function(){return false;};},bindNavKeyBrowse:function(){this.jQdocument.bind("keydown.jPages",this.bind(function(evt){var target=evt.target.nodeName.toLowerCase();if(this.elemScrolledIntoView()&&target!=="input"&&target!="textarea"){var newPage=this._currentPageNum;if(evt.which==37)newPage=this._currentPageNum-1;if(evt.which==39)newPage=this._currentPageNum+1;if(this.validNewPage(newPage)){this._clicked=true;this.paginate(newPage);}}},this));},elemScrolledIntoView:function(){var docViewTop,docViewBottom,elemTop,elemBottom;docViewTop=this.jQwindow.scrollTop();docViewBottom=docViewTop+this.jQwindow.height();elemTop=this._container.offset().top;elemBottom=elemTop+this._container.height();return((elemBottom>=docViewTop)&&(elemTop<=docViewBottom));},bindNavScrollBrowse:function(){this._container.bind("mousewheel.jPages DOMMouseScroll.jPages",this.bind(function(evt){var newPage=(evt.originalEvent.wheelDelta||-evt.originalEvent.detail)>0?(this._currentPageNum-1):(this._currentPageNum+1);if(this.validNewPage(newPage)){this._clicked=true;this.paginate(newPage);}evt.preventDefault();return false;},this));},getNewPage:function(nav,target){if(target.is(nav.currentPage))return this._currentPageNum;if(target.is(nav.pages))return nav.pages.index(target)+1;if(target.is(nav.first))return 1;if(target.is(nav.last))return this._numPages;if(target.is(nav.previous))return nav.pages.index(nav.currentPage);if(target.is(nav.next))return nav.pages.index(nav.currentPage)+2;},validNewPage:function(newPage){return newPage!==this._currentPageNum&&newPage>0&&newPage<=this._numPages;},paginate:function(page){var itemRange,pageInterval;itemRange=this.updateItems(page);pageInterval=this.updatePages(page);this._currentPageNum=page;if($.isFunction(this.options.callback))this.callback(page,itemRange,pageInterval);this.updatePause();},updateItems:function(page){var range=this.getItemRange(page);this._itemsHiding=this._itemsShowing;this._itemsShowing=this._items.slice(range.start,range.end);if(this._cssAnimSupport&&this.options.animation.length)this.cssAnimations(page);else this.jQAnimations(page);return range;},getItemRange:function(page){var range={};range.start=(page-1)*this.options.perPage;range.end=range.start+this.options.perPage;if(range.end>this._items.length)range.end=this._items.length;return range;},cssAnimations:function(page){clearInterval(this._delay);this._itemsHiding.removeClass(this.options.animation+" jp-invisible").addClass("jp-hidden");this._itemsShowing.removeClass("jp-hidden").addClass("jp-invisible");this._itemsOriented=this.getDirectedItems(page);this._index=0;this._delay=setInterval(this.bind(function(){if(this._index===this._itemsOriented.length)clearInterval(this._delay);else{this._itemsOriented.eq(this._index).removeClass("jp-invisible").addClass(this.options.animation);}this._index=this._index+1;},this),this.options.delay);},jQAnimations:function(page){clearInterval(this._delay);this._itemsHiding.addClass("jp-hidden");this._itemsShowing.fadeTo(0,0).removeClass("jp-hidden");this._itemsOriented=this.getDirectedItems(page);this._index=0;this._delay=setInterval(this.bind(function(){if(this._index===this._itemsOriented.length)clearInterval(this._delay);else{this._itemsOriented.eq(this._index).fadeTo(this.options.fallback,1);}this._index=this._index+1;},this),this.options.delay);},getDirectedItems:function(page){var itemsToShow;switch(this.options.direction){case"backwards":itemsToShow=$(this._itemsShowing.get().reverse());break;case"random":itemsToShow=$(this._itemsShowing.get().sort(function(){return(Math.round(Math.random())-0.5);}));break;case"auto":itemsToShow=page>=this._currentPageNum?this._itemsShowing:$(this._itemsShowing.get().reverse());break;default:itemsToShow=this._itemsShowing;}return itemsToShow;},updatePages:function(page){var interval,index,nav;interval=this.getInterval(page);for(index in this._nav){if(this._nav.hasOwnProperty(index)){nav=this._nav[index];this.updateBtns(nav,page);this.updateCurrentPage(nav,page);this.updatePagesShowing(nav,interval);this.updateBreaks(nav,interval);}}return interval;},getInterval:function(page){var neHalf,upperLimit,start,end;neHalf=Math.ceil(this.options.midRange/2);upperLimit=this._numPages-this.options.midRange;start=page>neHalf?Math.max(Math.min(page-neHalf,upperLimit),0):0;end=page>neHalf?Math.min(page+neHalf-(this.options.midRange%2>0?1:0),this._numPages):Math.min(this.options.midRange,this._numPages);return{start:start,end:end};},updateBtns:function(nav,page){if(page===1){nav.first.addClass("jp-disabled");nav.previous.addClass("jp-disabled");}if(page===this._numPages){nav.next.addClass("jp-disabled");nav.last.addClass("jp-disabled");}if(this._currentPageNum===1&&page>1){nav.first.removeClass("jp-disabled");nav.previous.removeClass("jp-disabled");}if(this._currentPageNum===this._numPages&&page<this._numPages){nav.next.removeClass("jp-disabled");nav.last.removeClass("jp-disabled");}},updateCurrentPage:function(nav,page){nav.currentPage.removeClass("jp-current");nav.currentPage=nav.pages.eq(page-1).addClass("jp-current");},updatePagesShowing:function(nav,interval){var newRange=nav.pages.slice(interval.start,interval.end).not(nav.permPages);nav.pagesShowing.not(newRange).addClass("jp-hidden");newRange.not(nav.pagesShowing).removeClass("jp-hidden");nav.pagesShowing=newRange;},updateBreaks:function(nav,interval){if(interval.start>this.options.startRange||(this.options.startRange===0&&interval.start>0))nav.fstBreak.removeClass("jp-hidden");else nav.fstBreak.addClass("jp-hidden");if(interval.end<this._numPages-this.options.endRange)nav.lstBreak.removeClass("jp-hidden");else nav.lstBreak.addClass("jp-hidden");},callback:function(page,itemRange,pageInterval){var pages={current:page,interval:pageInterval,count:this._numPages},items={showing:this._itemsShowing,oncoming:this._items.slice(itemRange.start+this.options.perPage,itemRange.end+this.options.perPage),range:itemRange,count:this._items.length};pages.interval.start=pages.interval.start+1;items.range.start=items.range.start+1;this.options.callback(pages,items);},updatePause:function(){if(this.options.pause&&this._numPages>1){clearTimeout(this._pause);if(this.options.clickStop&&this._clicked)return;else{this._pause=setTimeout(this.bind(function(){this.paginate(this._currentPageNum!==this._numPages?this._currentPageNum+1:1);},this),this.options.pause);}}},setMinHeight:function(){if(this.options.minHeight&&!this._container.is("table, tbody")){setTimeout(this.bind(function(){this._container.css({"min-height":this._container.css("height")});},this),1000);}},bind:function(fn,me){return function(){return fn.apply(me,arguments);};},destroy:function(){this.jQdocument.unbind("keydown.jPages");this._container.unbind("mousewheel.jPages DOMMouseScroll.jPages");if(this.options.minHeight)this._container.css("min-height","");if(this._cssAnimSupport&&this.options.animation.length)this._items.removeClass("animated jp-hidden jp-invisible "+this.options.animation);else this._items.removeClass("jp-hidden").fadeTo(0,1);this._holder.unbind("click.jPages").empty();}};$.fn[name]=function(arg){var type=$.type(arg);if(type==="object"){if(this.length&&!$.data(this,name)){instance=new Plugin(this,arg);this.each(function(){$.data(this,name,instance);});}return this;}if(type==="string"&&arg==="destroy"){instance.destroy();this.each(function(){$.removeData(this,name);});return this;}if(type==='number'&&arg%1===0){if(instance.validNewPage(arg))instance.paginate(arg);return this;}return this;};})(jQuery,window,document);
